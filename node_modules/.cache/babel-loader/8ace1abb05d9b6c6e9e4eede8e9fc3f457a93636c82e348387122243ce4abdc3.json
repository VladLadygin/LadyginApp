{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n(function () {\n  var fastXDM = require('./fast-xdm');\n  var VK = {};\n\n  /*\n   * Based on JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n   * Copyright (C) Paul Johnston 1999 - 2009\n   * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n   * Distributed under the BSD License\n   */\n  if (!VK.MD5) {\n    VK.MD5 = function (n) {\n      var j = function (o, r) {\n          var q = (o & 65535) + (r & 65535),\n            p = (o >> 16) + (r >> 16) + (q >> 16);\n          return p << 16 | q & 65535;\n        },\n        g = function (o, p) {\n          return o << p | o >>> 32 - p;\n        },\n        k = function (w, r, p, o, v, u) {\n          return j(g(j(j(r, w), j(o, u)), v), p);\n        },\n        a = function (q, p, w, v, o, u, r) {\n          return k(p & w | ~p & v, q, p, o, u, r);\n        },\n        h = function (q, p, w, v, o, u, r) {\n          return k(p & v | w & ~v, q, p, o, u, r);\n        },\n        c = function (q, p, w, v, o, u, r) {\n          return k(p ^ w ^ v, q, p, o, u, r);\n        },\n        m = function (q, p, w, v, o, u, r) {\n          return k(w ^ (p | ~v), q, p, o, u, r);\n        },\n        b = function (A, u) {\n          var z = 1732584193,\n            y = -271733879,\n            w = -1732584194,\n            v = 271733878,\n            r,\n            q,\n            p,\n            o;\n          A[u >> 5] |= 128 << u % 32;\n          A[(u + 64 >>> 9 << 4) + 14] = u;\n          for (var t = 0, s = A.length; t < s; t += 16) {\n            r = z;\n            q = y;\n            p = w;\n            o = v;\n            z = a(z, y, w, v, A[t + 0], 7, -680876936);\n            v = a(v, z, y, w, A[t + 1], 12, -389564586);\n            w = a(w, v, z, y, A[t + 2], 17, 606105819);\n            y = a(y, w, v, z, A[t + 3], 22, -1044525330);\n            z = a(z, y, w, v, A[t + 4], 7, -176418897);\n            v = a(v, z, y, w, A[t + 5], 12, 1200080426);\n            w = a(w, v, z, y, A[t + 6], 17, -1473231341);\n            y = a(y, w, v, z, A[t + 7], 22, -45705983);\n            z = a(z, y, w, v, A[t + 8], 7, 1770035416);\n            v = a(v, z, y, w, A[t + 9], 12, -1958414417);\n            w = a(w, v, z, y, A[t + 10], 17, -42063);\n            y = a(y, w, v, z, A[t + 11], 22, -1990404162);\n            z = a(z, y, w, v, A[t + 12], 7, 1804603682);\n            v = a(v, z, y, w, A[t + 13], 12, -40341101);\n            w = a(w, v, z, y, A[t + 14], 17, -1502002290);\n            y = a(y, w, v, z, A[t + 15], 22, 1236535329);\n            z = h(z, y, w, v, A[t + 1], 5, -165796510);\n            v = h(v, z, y, w, A[t + 6], 9, -1069501632);\n            w = h(w, v, z, y, A[t + 11], 14, 643717713);\n            y = h(y, w, v, z, A[t + 0], 20, -373897302);\n            z = h(z, y, w, v, A[t + 5], 5, -701558691);\n            v = h(v, z, y, w, A[t + 10], 9, 38016083);\n            w = h(w, v, z, y, A[t + 15], 14, -660478335);\n            y = h(y, w, v, z, A[t + 4], 20, -405537848);\n            z = h(z, y, w, v, A[t + 9], 5, 568446438);\n            v = h(v, z, y, w, A[t + 14], 9, -1019803690);\n            w = h(w, v, z, y, A[t + 3], 14, -187363961);\n            y = h(y, w, v, z, A[t + 8], 20, 1163531501);\n            z = h(z, y, w, v, A[t + 13], 5, -1444681467);\n            v = h(v, z, y, w, A[t + 2], 9, -51403784);\n            w = h(w, v, z, y, A[t + 7], 14, 1735328473);\n            y = h(y, w, v, z, A[t + 12], 20, -1926607734);\n            z = c(z, y, w, v, A[t + 5], 4, -378558);\n            v = c(v, z, y, w, A[t + 8], 11, -2022574463);\n            w = c(w, v, z, y, A[t + 11], 16, 1839030562);\n            y = c(y, w, v, z, A[t + 14], 23, -35309556);\n            z = c(z, y, w, v, A[t + 1], 4, -1530992060);\n            v = c(v, z, y, w, A[t + 4], 11, 1272893353);\n            w = c(w, v, z, y, A[t + 7], 16, -155497632);\n            y = c(y, w, v, z, A[t + 10], 23, -1094730640);\n            z = c(z, y, w, v, A[t + 13], 4, 681279174);\n            v = c(v, z, y, w, A[t + 0], 11, -358537222);\n            w = c(w, v, z, y, A[t + 3], 16, -722521979);\n            y = c(y, w, v, z, A[t + 6], 23, 76029189);\n            z = c(z, y, w, v, A[t + 9], 4, -640364487);\n            v = c(v, z, y, w, A[t + 12], 11, -421815835);\n            w = c(w, v, z, y, A[t + 15], 16, 530742520);\n            y = c(y, w, v, z, A[t + 2], 23, -995338651);\n            z = m(z, y, w, v, A[t + 0], 6, -198630844);\n            v = m(v, z, y, w, A[t + 7], 10, 1126891415);\n            w = m(w, v, z, y, A[t + 14], 15, -1416354905);\n            y = m(y, w, v, z, A[t + 5], 21, -57434055);\n            z = m(z, y, w, v, A[t + 12], 6, 1700485571);\n            v = m(v, z, y, w, A[t + 3], 10, -1894986606);\n            w = m(w, v, z, y, A[t + 10], 15, -1051523);\n            y = m(y, w, v, z, A[t + 1], 21, -2054922799);\n            z = m(z, y, w, v, A[t + 8], 6, 1873313359);\n            v = m(v, z, y, w, A[t + 15], 10, -30611744);\n            w = m(w, v, z, y, A[t + 6], 15, -1560198380);\n            y = m(y, w, v, z, A[t + 13], 21, 1309151649);\n            z = m(z, y, w, v, A[t + 4], 6, -145523070);\n            v = m(v, z, y, w, A[t + 11], 10, -1120210379);\n            w = m(w, v, z, y, A[t + 2], 15, 718787259);\n            y = m(y, w, v, z, A[t + 9], 21, -343485551);\n            z = j(z, r);\n            y = j(y, q);\n            w = j(w, p);\n            v = j(v, o);\n          }\n          return [z, y, w, v];\n        },\n        f = function (r) {\n          var q = \"\",\n            s = -1,\n            p = r.length,\n            o,\n            t;\n          while (++s < p) {\n            o = r.charCodeAt(s);\n            t = s + 1 < p ? r.charCodeAt(s + 1) : 0;\n            if (55296 <= o && o <= 56319 && 56320 <= t && t <= 57343) {\n              o = 65536 + ((o & 1023) << 10) + (t & 1023);\n              s++;\n            }\n            if (o <= 127) {\n              q += String.fromCharCode(o);\n            } else {\n              if (o <= 2047) {\n                q += String.fromCharCode(192 | o >>> 6 & 31, 128 | o & 63);\n              } else {\n                if (o <= 65535) {\n                  q += String.fromCharCode(224 | o >>> 12 & 15, 128 | o >>> 6 & 63, 128 | o & 63);\n                } else {\n                  if (o <= 2097151) {\n                    q += String.fromCharCode(240 | o >>> 18 & 7, 128 | o >>> 12 & 63, 128 | o >>> 6 & 63, 128 | o & 63);\n                  }\n                }\n              }\n            }\n          }\n          return q;\n        },\n        e = function (p) {\n          var o = Array(p.length >> 2),\n            r,\n            q;\n          for (r = 0, q = o.length; r < q; r++) {\n            o[r] = 0;\n          }\n          for (r = 0, q = p.length * 8; r < q; r += 8) {\n            o[r >> 5] |= (p.charCodeAt(r / 8) & 255) << r % 32;\n          }\n          return o;\n        },\n        l = function (p) {\n          var o = \"\";\n          for (var r = 0, q = p.length * 32; r < q; r += 8) {\n            o += String.fromCharCode(p[r >> 5] >>> r % 32 & 255);\n          }\n          return o;\n        },\n        d = function (o) {\n          return l(b(e(o), o.length * 8));\n        },\n        i = function (q) {\n          var t = \"0123456789abcdef\",\n            p = \"\",\n            o;\n          for (var s = 0, r = q.length; s < r; s++) {\n            o = q.charCodeAt(s);\n            p += t.charAt(o >>> 4 & 15) + t.charAt(o & 15);\n          }\n          return p;\n        };\n      return i(d(f(n)));\n    };\n  }\n\n  /*\n   * VKontakte Open API JavaScript library\n   * http://vk.com/\n   */\n\n  VK.extend = function (target, source, overwrite) {\n    for (var key in source) {\n      if (overwrite || typeof target[key] === 'undefined') {\n        target[key] = source[key];\n      }\n    }\n    return target;\n  };\n  if (VK._protocol !== 'https:') {\n    VK._protocol = location.protocol === 'https:' ? 'https:' : 'http:';\n  }\n  if (!VK.xdConnectionCallbacks) {\n    VK.extend(VK, {\n      version: 1,\n      _apiId: null,\n      _session: null,\n      _userStatus: 'unknown',\n      _domain: {\n        main: 'https://oauth.vk.com/',\n        api: 'https://api.vk.com/'\n      },\n      _path: {\n        login: 'authorize',\n        proxy: 'fxdm_oauth_proxy.html'\n      },\n      _rootId: 'vk_api_transport',\n      _nameTransportPath: '',\n      xdReady: false,\n      access: {\n        FRIENDS: 0x2,\n        PHOTOS: 0x4,\n        AUDIO: 0x8,\n        VIDEO: 0x10,\n        MATCHES: 0x20,\n        QUESTIONS: 0x40,\n        WIKI: 0x80\n      }\n    });\n    VK.init = function (options) {\n      var body, root;\n      VK._apiId = null;\n      if (!options.apiId) {\n        throw Error('VK.init() called without an apiId');\n      }\n      VK._apiId = options.apiId;\n      if (options.onlyWidgets) return true;\n      if (options.nameTransportPath && options.nameTransportPath !== '') {\n        VK._nameTransportPath = options.nameTransportPath;\n      }\n      root = window.document.getElementById(VK._rootId);\n      if (!root) {\n        root = window.document.createElement('div');\n        root.id = VK._rootId;\n        body = window.document.getElementsByTagName('body')[0];\n        body.insertBefore(root, body.childNodes[0]);\n      }\n      root.style.position = 'absolute';\n      root.style.top = '-10000px';\n      var session = VK.Cookie.load();\n      if (session) {\n        VK.Auth._loadState = 'loaded';\n        VK.Auth.setSession(session, session ? 'connected' : 'unknown');\n      }\n    };\n    if (!VK.Cookie) {\n      VK.Cookie = {\n        _domain: null,\n        load: function () {\n          var cookie = window.document.cookie.match('\\\\bvk_app_' + VK._apiId + '=([^;]*)\\\\b'),\n            session;\n          if (cookie) {\n            session = this.decode(cookie[1]);\n            if (session.secret != 'oauth') {\n              return false;\n            }\n            session.expire = parseInt(session.expire, 10);\n            VK.Cookie._domain = '.' + window.location.hostname; //session.base_domain;\n          }\n\n          return session;\n        },\n        setRaw: function (val, ts, domain, time) {\n          var rawCookie;\n          rawCookie = 'vk_app_' + VK._apiId + '=' + val + '';\n          var exp = time ? new Date().getTime() + time * 1000 : ts * 1000;\n          rawCookie += val && ts === 0 ? '' : '; expires=' + new Date(exp).toGMTString();\n          rawCookie += '; path=/';\n          rawCookie += domain ? '; domain=.' + domain : '';\n          window.document.cookie = rawCookie;\n          this._domain = domain;\n        },\n        set: function (session, resp) {\n          if (session) {\n            this.setRaw(this.encode(session), session.expire, window.location.hostname, (resp || {}).time);\n          } else {\n            this.clear();\n          }\n        },\n        clear: function () {\n          this.setRaw('', 0, this._domain, 0);\n        },\n        encode: function (params) {\n          var pairs = [],\n            key;\n          for (key in params) {\n            if (key != 'user') pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n          }\n          pairs.sort();\n          return pairs.join('&');\n        },\n        decode: function (str) {\n          var params = {},\n            parts = str.split('&'),\n            i,\n            pair;\n          for (i = 0; i < parts.length; i++) {\n            pair = parts[i].split('=', 2);\n            if (pair && pair[0]) {\n              params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n            }\n          }\n          return params;\n        }\n      };\n    }\n    if (!VK.Api) {\n      VK.Api = {\n        _headId: null,\n        _callbacks: {},\n        ie6_7: function () {\n          if (!VK.Api.ieTested) {\n            VK.Api.isIE6_7 = navigator.userAgent.match(/MSIE [6|7]/i);\n            VK.Api.ieTested = true;\n          }\n          return VK.Api.isIE6_7;\n        },\n        supportCORS: function () {\n          var xhr = new XMLHttpRequest();\n          if (\"withCredentials\" in xhr) {\n            return true;\n          }\n          if (typeof XDomainRequest != \"undefined\") {\n            return true;\n          }\n          return false;\n        },\n        makeRequest: function (url, cb) {\n          var xhr = VK.Api.createRequest('GET', url);\n          if (!xhr) {\n            return false;\n          }\n          xhr.onload = function () {\n            var text = xhr.responseText;\n            if (xhr.status === 200) {\n              cb(text);\n            } else {\n              try {\n                console.error('Open api access error', xhr.response);\n              } catch (e) {\n                //nop\n              }\n            }\n          };\n          xhr.onerror = function () {\n            try {\n              console.error('Open api access error');\n            } catch (e) {\n              //nop\n            }\n          };\n          xhr.send();\n          return true;\n        },\n        createRequest: function (method, url) {\n          var xhr = new XMLHttpRequest();\n          if (\"withCredentials\" in xhr) {\n            // XHR for Chrome/Firefox/Opera/Safari.\n            xhr.open(method, url, true);\n            xhr.withCredentials = true;\n          } else if (typeof XDomainRequest != \"undefined\") {\n            // XDomainRequest for IE.\n            xhr = new XDomainRequest();\n            xhr.open(method, url);\n            xhr.withCredentials = true;\n          } else {\n            // CORS not supported.\n            xhr = null;\n          }\n          return xhr;\n        },\n        attachScript: function (url) {\n          if (!VK.Api._headId) VK.Api._headId = window.document.getElementsByTagName(\"head\")[0];\n          var newScript = window.document.createElement('script');\n          newScript.type = 'text/javascript';\n          newScript.setAttribute('encoding', 'UTF-8');\n          newScript.src = url;\n          VK.Api._headId.appendChild(newScript);\n        },\n        checkMethod: function (method, params, cb, queryTry) {\n          var m = method.toLowerCase();\n          if (m == 'wall.post' || m == 'activity.set') {\n            var text = m == 'activity.set' ? params.text : params.message;\n            if (!text) {\n              text = '';\n            }\n            var query = VK._protocol + '//vk.com/al_apps.php?act=wall_post_box&widget=1&method=' + m + '&aid=' + parseInt(VK._apiId, 10) + '&text=' + encodeURIComponent(text);\n            if (m == 'wall.post') {\n              query += '&owner_id=' + parseInt(params.owner_id || 0, 10) + '&attachments=' + (params.attachments || params.attachment || '') + '&publish_date=' + (params.publish_date || '');\n            }\n            var method_access = '_' + Math.random().toString(16).substr(2);\n            query += '&method_access=' + method_access;\n            var popup = VK.UI.popup({\n              url: query,\n              width: 460,\n              height: 249\n            });\n            var timer = setInterval(function () {\n              if (VK.UI.active.closed) {\n                clearInterval(timer);\n                params.method_access = method_access;\n                VK.Api.call(method, params, cb, queryTry);\n              }\n            }, 500);\n            return false;\n          }\n          return true;\n        },\n        call: function (method, params, cb, queryTry) {\n          var query = params || {},\n            qs,\n            responseCb;\n          if (typeof query != 'object' || typeof cb != 'function') {\n            return false;\n          }\n          if (!params.method_access && !params.method_force && !VK.Api.checkMethod(method, params, cb, queryTry)) {\n            return;\n          }\n          if (!queryTry) queryTry = 0;\n          if (VK.Auth._loadState != 'loaded') {\n            var authFunc = function (result) {\n              if (result && result.session) {\n                VK.Observer.unsubscribe('auth.loginStatus', authFunc);\n                VK.Api.call(method, params, cb);\n              }\n            };\n            VK.Observer.subscribe('auth.loginStatus', authFunc);\n            VK.Auth.getLoginStatus();\n            return;\n          }\n          if (VK.Api.queryLength(query) < 1500 && !VK.Api.ie6_7()) {\n            var useXDM = false;\n            var rnd = parseInt(Math.random() * 10000000, 10);\n            while (VK.Api._callbacks[rnd]) {\n              rnd = parseInt(Math.random() * 10000000, 10);\n            }\n            query.callback = 'VK.Api._callbacks[' + rnd + ']';\n          } else {\n            var useXDM = true;\n          }\n          if (VK._session && VK._session.sid) {\n            query.access_token = VK._session.sid;\n          }\n          qs = VK.Cookie.encode(query);\n          responseCb = function (response) {\n            if (response.error && (response.error.error_code == 3 || response.error.error_code == 4 || response.error.error_code == 5)) {\n              if (queryTry > 3) return false;\n              var repeatCall = function (resp) {\n                VK.Observer.unsubscribe('auth.sessionChange', repeatCall);\n                delete params.access_token;\n                if (resp.session) VK.Api.call(method, params, cb, queryTry + 1);\n              };\n              VK.Observer.subscribe('auth.sessionChange', repeatCall);\n              VK.Auth.getLoginStatus();\n            } else {\n              cb(response);\n            }\n            if (!useXDM) delete VK.Api._callbacks[rnd];\n          };\n          if (useXDM) {\n            if (VK.xdReady) {\n              VK.XDM.remote.callMethod('apiCall', method, qs, responseCb);\n            } else {\n              VK.Observer.subscribe('xdm.init', function () {\n                VK.XDM.remote.callMethod('apiCall', method, qs, responseCb);\n              });\n              VK.XDM.init();\n            }\n          } else {\n            VK.Api._callbacks[rnd] = responseCb;\n            VK.Api.attachScript(VK._domain.api + 'method/' + method + '?' + qs);\n          }\n        },\n        queryLength: function (query) {\n          var len = 100,\n            i; // sid + sig\n          for (i in query) {\n            len += i.length + encodeURIComponent(query[i]).length + 1;\n          }\n          return len;\n        }\n      };\n\n      // Alias\n      VK.api = function (method, params, cb) {\n        VK.Api.call(method, params, cb);\n      };\n    }\n    ;\n    if (!VK.Auth) {\n      VK.Auth = {\n        popup: null,\n        lsCb: {},\n        setSession: function (session, status, settings, resp) {\n          var login = !VK._session && session,\n            logout = VK._session && !session,\n            both = VK._session && session && VK._session.mid != session.mid,\n            sessionChange = login || logout || VK._session && session && VK._session.sid != session.sid,\n            statusChange = status != VK._userStatus,\n            response = {\n              'session': session,\n              'status': status,\n              'settings': settings\n            };\n          VK._session = session;\n          VK._userStatus = status;\n          VK.Cookie.set(session, resp);\n          if (sessionChange || statusChange || both) {\n            setTimeout(function () {\n              if (statusChange) {\n                VK.Observer.publish('auth.statusChange', response);\n              }\n              if (logout || both) {\n                VK.Observer.publish('auth.logout', response);\n              }\n              if (login || both) {\n                VK.Observer.publish('auth.login', response);\n              }\n              if (sessionChange) {\n                VK.Observer.publish('auth.sessionChange', response);\n              }\n            }, 0);\n          }\n          return response;\n        },\n        // Public VK.Auth methods\n        login: function (cb, settings) {\n          if (!VK._apiId) {\n            return false;\n          }\n          var url = VK._domain.main + VK._path.login + '?client_id=' + VK._apiId + '&display=popup&redirect_uri=close.html&response_type=token';\n          if (settings && parseInt(settings, 10) > 0) {\n            url += '&scope=' + settings;\n          }\n          VK.Observer.unsubscribe('auth.onLogin');\n          VK.Observer.subscribe('auth.onLogin', cb);\n          VK.UI.popup({\n            width: 665,\n            height: 370,\n            url: url\n          });\n          var authCallback = function () {\n            VK.Auth.getLoginStatus(function (resp) {\n              VK.Observer.publish('auth.onLogin', resp);\n              VK.Observer.unsubscribe('auth.onLogin');\n            }, true);\n          };\n          VK.UI.popupOpened = true;\n          var popupCheck = function () {\n            if (!VK.UI.popupOpened) {\n              return false;\n            }\n            try {\n              if (!VK.UI.active.top || VK.UI.active.closed) {\n                VK.UI.popupOpened = false;\n                authCallback();\n                return true;\n              }\n            } catch (e) {\n              VK.UI.popupOpened = false;\n              authCallback();\n              return true;\n            }\n            setTimeout(popupCheck, 100);\n          };\n          setTimeout(popupCheck, 100);\n        },\n        // Logout user from app, vk.com & login.vk.com\n        logout: function (cb) {\n          VK.Auth.revokeGrants(cb);\n        },\n        revokeGrants: function (cb) {\n          var onLogout = function (resp) {\n            VK.Observer.unsubscribe('auth.statusChange', onLogout);\n            if (cb) {\n              cb(resp);\n            }\n          };\n          VK.Observer.subscribe('auth.statusChange', onLogout);\n          if (VK._session && VK._session.sid) {\n            var url = 'https://login.vk.com/?act=openapi&oauth=1&aid=' + parseInt(VK._apiId, 10) + '&location=' + encodeURIComponent(window.location.hostname) + '&do_logout=1&token=' + VK._session.sid;\n            if (VK.Api.supportCORS()) {\n              var logoutCallback = function () {\n                VK.Auth.setSession(null, 'unknown');\n              };\n              VK.Api.makeRequest(url + '&new=1', logoutCallback);\n            } else {\n              VK.Api.attachScript(url);\n            }\n          }\n          VK.Cookie.clear();\n        },\n        // Get current login status from session (sync) (not use on load time)\n        getSession: function () {\n          return VK._session;\n        },\n        // Get current login status from vk.com (async)\n        getLoginStatus: function (cb, force) {\n          if (!VK._apiId) {\n            return;\n          }\n          if (cb) {\n            if (!force && VK.Auth._loadState == 'loaded') {\n              cb({\n                status: VK._userStatus,\n                session: VK._session\n              });\n              return;\n            } else {\n              VK.Observer.subscribe('auth.loginStatus', cb);\n            }\n          }\n          if (!force && VK.Auth._loadState == 'loading') {\n            return;\n          }\n          VK.Auth._loadState = 'loading';\n          var url = 'https://login.vk.com/?act=openapi&oauth=1&aid=' + parseInt(VK._apiId, 10) + '&location=' + encodeURIComponent(window.location.hostname);\n          if (VK.Api.supportCORS()) {\n            var loginCallback = function (response) {\n              if (!this.JSON) {\n                this.JSON = {};\n              }\n              if (typeof JSON.parse !== 'function') {\n                //IE6 and IE7\n                response = eval(response);\n              } else {\n                response = JSON.parse(response);\n              }\n              VK.Auth._loadState = 'loaded';\n              if (response && response.auth) {\n                var session = {\n                  mid: response.user.id,\n                  sid: response.access_token,\n                  sig: response.sig,\n                  secret: response.secret,\n                  expire: response.expire\n                };\n                if (force) {\n                  session.user = response.user;\n                }\n                var status = 'connected';\n              } else {\n                var session = null;\n                var status = response.user ? 'not_authorized' : 'unknown';\n                VK.Cookie.clear();\n              }\n              VK.Auth.setSession(session, status, false, response);\n              VK.Observer.publish('auth.loginStatus', {\n                session: session,\n                status: status\n              });\n              VK.Observer.unsubscribe('auth.loginStatus');\n            };\n            VK.Api.makeRequest(url + '&new=1', loginCallback);\n          } else {\n            var rnd = parseInt(Math.random() * 10000000, 10);\n            while (VK.Auth.lsCb[rnd]) {\n              rnd = parseInt(Math.random() * 10000000, 10);\n            }\n            VK.Auth.lsCb[rnd] = function (response) {\n              delete VK.Auth.lsCb[rnd];\n              VK.Auth._loadState = 'loaded';\n              if (response && response.auth) {\n                var session = {\n                  mid: response.user.id,\n                  sid: response.access_token,\n                  sig: response.sig,\n                  secret: response.secret,\n                  expire: response.expire\n                };\n                if (force) session.user = response.user;\n                var status = 'connected';\n              } else {\n                var session = null;\n                var status = response.user ? 'not_authorized' : 'unknown';\n                VK.Cookie.clear();\n              }\n              VK.Auth.setSession(session, status, false, response);\n              VK.Observer.publish('auth.loginStatus', {\n                session: session,\n                status: status\n              });\n              VK.Observer.unsubscribe('auth.loginStatus');\n            };\n\n            // AttachScript here\n            VK.Api.attachScript(url + '&rnd=' + rnd);\n          }\n        }\n      };\n    }\n  } else {\n    // if VK.xdConnectionCallbacks\n    setTimeout(function () {\n      var callback;\n      while (callback = VK.xdConnectionCallbacks.pop()) {\n        callback();\n      }\n    }, 0);\n    if (VK.Widgets && !VK.Widgets._constructor) {\n      VK.Widgets = false;\n    }\n  }\n  if (!VK.UI) {\n    VK.UI = {\n      active: null,\n      _buttons: [],\n      popup: function (options) {\n        var screenX = typeof window.screenX != 'undefined' ? window.screenX : window.screenLeft,\n          screenY = typeof window.screenY != 'undefined' ? window.screenY : window.screenTop,\n          outerWidth = typeof window.outerWidth != 'undefined' ? window.outerWidth : window.document.body.clientWidth,\n          outerHeight = typeof window.outerHeight != 'undefined' ? window.outerHeight : window.document.body.clientHeight - 22,\n          width = options.width,\n          height = options.height,\n          left = parseInt(screenX + (outerWidth - width) / 2, 10),\n          top = parseInt(screenY + (outerHeight - height) / 2.5, 10),\n          features = 'width=' + width + ',height=' + height + ',left=' + left + ',top=' + top;\n        this.active = window.open(options.url, 'vk_openapi', features);\n      },\n      button: function (el, handler) {\n        var html = '';\n        if (typeof el == 'string') {\n          el = window.document.getElementById(el);\n        }\n        this._buttons.push(el);\n        index = this._buttons.length - 1;\n        html = '<table cellspacing=\"0\" cellpadding=\"0\" id=\"openapi_UI_' + index + '\" onmouseover=\"VK.UI._change(1, ' + index + ');\" onmouseout=\"VK.UI._change(0, ' + index + ');\" onmousedown=\"VK.UI._change(2, ' + index + ');\" onmouseup=\"VK.UI._change(1, ' + index + ');\" style=\"cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;\"><tr style=\"vertical-align: middle\">' + '<td><div style=\"border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;\"><div style=\"border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;\">&#1042;&#1086;&#1081;&#1090;&#1080;</div></div></td>' + '<td><div style=\"background: url(' + VK._protocol + '//vk.com/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px\"></div></td>' + '<td><div style=\"border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;\"><div style=\"border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;\">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;</div></div></td>' + '</tr></table>';\n        el.innerHTML = html;\n        el.style.width = el.childNodes[0].offsetWidth + 'px';\n      },\n      _change: function (state, index) {\n        var row = window.document.getElementById('openapi_UI_' + index).rows[0];\n        var elems = [row.cells[0].firstChild.firstChild, row.cells[2].firstChild.firstChild];\n        for (var i = 0; i < 2; ++i) {\n          var elem = elems[i];\n          if (state === 0) {\n            elem.style.backgroundColor = '#6D8DB1';\n            elem.style.borderTopColor = '#7E9CBC';\n            elem.style.borderLeftColor = elem.style.borderRightColor = elem.style.borderBottomColor = '#5C82AB';\n          } else if (state == 1) {\n            elem.style.backgroundColor = '#7693B6';\n            elem.style.borderTopColor = '#88A4C4';\n            elem.style.borderLeftColor = elem.style.borderRightColor = elem.style.borderBottomColor = '#6088B4';\n          } else if (state == 2) {\n            elem.style.backgroundColor = '#6688AD';\n            elem.style.borderBottomColor = '#7495B8';\n            elem.style.borderLeftColor = elem.style.borderRightColor = elem.style.borderTopColor = '#51779F';\n          }\n        }\n        if (state === 0 || state == 2) {\n          row.cells[2].firstChild.style.backgroundPosition = '0px -42px';\n        } else if (state == 1) {\n          row.cells[2].firstChild.style.backgroundPosition = '0px -63px';\n        }\n      }\n    };\n  }\n  if (!VK.XDM) {\n    VK.XDM = {\n      remote: null,\n      init: function () {\n        if (this.remote) return false;\n        var url = VK._domain.api + VK._path.proxy;\n        this.remote = new fastXDM.Server({\n          onInit: function () {\n            VK.xdReady = true;\n            VK.Observer.publish('xdm.init');\n          }\n        });\n        this.remote.append(window.document.getElementById(VK._rootId), {\n          src: url\n        });\n      },\n      xdHandler: function (code) {\n        try {\n          eval('VK.' + code);\n        } catch (e) {}\n      }\n    };\n  }\n  if (!VK.Observer) {\n    VK.Observer = {\n      _subscribers: function () {\n        if (!this._subscribersMap) {\n          this._subscribersMap = {};\n        }\n        return this._subscribersMap;\n      },\n      publish: function (eventName) {\n        var args = Array.prototype.slice.call(arguments),\n          eventName = args.shift(),\n          subscribers = this._subscribers()[eventName],\n          i,\n          j;\n        if (!subscribers) return;\n        for (i = 0, j = subscribers.length; i < j; i++) {\n          if (subscribers[i] != null) {\n            subscribers[i].apply(this, args);\n          }\n        }\n      },\n      subscribe: function (eventName, handler) {\n        var subscribers = this._subscribers();\n        if (typeof handler != 'function') return false;\n        if (!subscribers[eventName]) {\n          subscribers[eventName] = [handler];\n        } else {\n          subscribers[eventName].push(handler);\n        }\n      },\n      unsubscribe: function (eventName, handler) {\n        var subscribers = this._subscribers()[eventName],\n          i,\n          j;\n        if (!subscribers) return false;\n        if (typeof handler == 'function') {\n          for (i = 0, j = subscribers.length; i < j; i++) {\n            if (subscribers[i] == handler) {\n              subscribers[i] = null;\n            }\n          }\n        } else {\n          delete this._subscribers()[eventName];\n        }\n      }\n    };\n  }\n  if (!VK.Widgets) {\n    VK.Widgets = {};\n    VK.Widgets.count = 0;\n    VK.Widgets.RPC = {};\n    VK.Widgets.loading = function (obj, enabled) {\n      obj.style.background = enabled ? 'url(\"' + VK._protocol + '//vk.com/images/upload.gif\") center center no-repeat transparent' : 'none';\n    };\n    VK.Widgets.Comments = function (objId, options, page) {\n      var pData = VK.Util.getPageData();\n      if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n      options = options || {};\n      var params = {\n          limit: options.limit || 10,\n          height: options.height || 0,\n          mini: options.mini === undefined ? 'auto' : options.mini,\n          norealtime: options.norealtime ? 1 : 0\n        },\n        mouseup = function () {\n          rpc.callMethod('mouseUp');\n          return false;\n        },\n        move = function (event) {\n          rpc.callMethod('mouseMove', {\n            screenY: event.screenY\n          });\n        },\n        iframe,\n        rpc;\n      if (options.browse) {\n        // browse all comments\n        params.browse = 1;\n        params.replies = options.replies || 0;\n      } else {\n        // page\n        var url = options.pageUrl || pData.url;\n        if (url.substr(0, 1) == '/') {\n          url = location.protocol + '//' + location.host + url;\n        }\n        VK.extend(params, {\n          page: page || 0,\n          status_publish: options.autoPublish === undefined ? 1 : options.autoPublish,\n          attach: options.attach === undefined ? '*' : options.attach ? options.attach : '',\n          url: url,\n          title: options.pageTitle || pData.title,\n          description: options.pageDescription || pData.description,\n          image: options.pageImage || pData.image\n        });\n      }\n      if (options.onChange) {\n        // DEPRECATED\n        VK.Observer.subscribe('widgets.comments.new_comment', options.onChange);\n        VK.Observer.subscribe('widgets.comments.delete_comment', options.onChange);\n      }\n      return VK.Widgets._constructor('widget_comments.php', objId, options, params, {\n        showBox: function (url, props) {\n          var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com') + '/' + url, [], {\n            proxy: function () {\n              rpc.callMethod.apply(rpc, arguments);\n            }\n          });\n          box.show();\n        },\n        startDrag: function () {\n          cursorBack = window.document.body.style.cursor;\n          window.document.body.style.cursor = 'pointer';\n          VK.Util.addEvent('mousemove', move);\n          VK.Util.addEvent('mouseup', mouseup);\n        },\n        stopDrag: function () {\n          window.document.body.style.cursor = cursorBack;\n          VK.Util.removeEvent('mousemove', move);\n          VK.Util.removeEvent('mouseup', mouseup);\n        }\n      }, {\n        startHeight: 133,\n        minWidth: 300,\n        width: '100%'\n      }, function (o, i, r) {\n        iframe = i;\n        rpc = r;\n      });\n    };\n    VK.Widgets.CommentsBrowse = function (objId, options) {\n      options = options || {};\n      options.browse = 1;\n      return VK.Widgets.Comments(objId, options);\n    };\n    VK.Widgets.Recommended = function (objId, options) {\n      var pData = VK.Util.getPageData();\n      if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n      options = options || {};\n      var params = {\n        limit: options.limit || 5,\n        max: options.max || 0,\n        sort: options.sort || 'friend_likes',\n        verb: options.verb || 0,\n        period: options.period || 'week',\n        target: options.target || 'parent'\n      };\n      return VK.Widgets._constructor('widget_recommended.php', objId, options, params, {}, {\n        startHeight: 90 + params.limit * 30,\n        minWidth: 150,\n        width: '100%'\n      });\n    };\n    VK.Widgets.Post = function (objId, ownerId, postId, hash, options) {\n      options = options || {};\n      var params = {\n          owner_id: ownerId,\n          post_id: postId,\n          hash: hash || '',\n          width: options.width || 500\n        },\n        iframe,\n        rpc,\n        cursorBack;\n      if (options.preview) {\n        params.preview = 1;\n        delete options['preview'];\n      }\n      return VK.Widgets._constructor('widget_post.php', objId, options, params, {\n        showBox: function (url, props) {\n          var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com') + '/' + url, [], {\n            proxy: function () {\n              rpc.callMethod.apply(rpc, arguments);\n            }\n          });\n          box.show();\n        },\n        startDrag: function () {\n          cursorBack = window.document.body.style.cursor;\n          window.document.body.style.cursor = 'pointer';\n        },\n        stopDrag: function () {\n          window.document.body.style.cursor = cursorBack;\n        }\n      }, {\n        startHeight: 90,\n        minWidth: 250,\n        width: '100%'\n      }, function (o, i, r) {\n        iframe = i;\n        rpc = r;\n      });\n    };\n    VK.Widgets.Like = function (objId, options, page) {\n      var pData = VK.Util.getPageData();\n      if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n      options = VK.extend(options || {}, {\n        allowTransparency: true\n      });\n      if (options.type == 'button' || options.type == 'vertical' || options.type == 'mini') delete options.width;\n      var type = options.type == 'full' || options.type == 'button' || options.type == 'vertical' || options.type == 'mini' ? options.type : 'full',\n        width = type == 'full' ? Math.max(200, options.width || 350) : type == 'button' ? 180 : type == 'mini' ? 100 : 41,\n        btnHeight = parseInt(options.height, 10) || 22,\n        height = type == 'vertical' ? 2 * btnHeight + 7 : type == 'full' ? btnHeight + 1 : btnHeight,\n        params = {\n          page: page || 0,\n          url: options.pageUrl || pData.url,\n          type: type,\n          verb: options.verb == 1 ? 1 : 0,\n          color: options.color || '',\n          title: options.pageTitle || pData.title,\n          description: options.pageDescription || pData.description,\n          image: options.pageImage || pData.image,\n          text: (options.text || '').substr(0, 140),\n          h: btnHeight\n        },\n        ttHere = options.ttHere || false,\n        isOver = false,\n        obj,\n        buttonIfr,\n        buttonRpc,\n        tooltipIfr,\n        tooltipRpc,\n        checkTO,\n        statsBox;\n      function showTooltip(force) {\n        if (!isOver && !force || !tooltipRpc) return;\n        if (!tooltipIfr || !tooltipRpc || tooltipIfr.style.display != 'none' && tooltipIfr.getAttribute('vkhidden') != 'yes') return;\n        var scrollTop = options.getScrollTop ? options.getScrollTop() : window.document.body.scrollTop || window.document.documentElement.scrollTop || 0;\n        var objPos = VK.Util.getXY(obj, options.fixed);\n        var startY = ttHere ? 0 : objPos[1];\n        if (scrollTop > objPos[1] - 120 && options.tooltipPos != 'top' || type == 'vertical' || options.tooltipPos == 'bottom') {\n          tooltipIfr.style.top = startY + height + 2 + 'px';\n          tooltipRpc.callMethod('show', false);\n        } else {\n          tooltipIfr.style.top = startY - 125 + 'px';\n          tooltipRpc.callMethod('show', true);\n        }\n        VK.Util.ss(tooltipIfr, {\n          left: (ttHere ? 0 : objPos[0]) - (type == 'vertical' || type == 'mini' ? 36 : 2) + 'px',\n          display: 'block',\n          opacity: 1,\n          filter: 'none'\n        });\n        tooltipIfr.setAttribute('vkhidden', 'no');\n        isOver = true;\n      }\n      function hideTooltip(force) {\n        if (isOver && !force || !tooltipRpc) return;\n        tooltipRpc.callMethod('hide');\n        buttonRpc.callMethod('hide');\n        setTimeout(function () {\n          tooltipIfr.style.display = 'none';\n        }, 400);\n      }\n      function handleStatsBox(act) {\n        hideTooltip(true);\n        statsBox = VK.Util.Box(buttonIfr.src + '&act=a_stats_box&widget_width=620');\n        statsBox.show();\n      }\n      return VK.Widgets._constructor('widget_like.php', objId, options, params, {\n        initTooltip: function (counter) {\n          tooltipRpc = new fastXDM.Server({\n            onInit: counter ? function () {\n              showTooltip(true);\n            } : function () {},\n            proxy: function () {\n              buttonRpc.callMethod.apply(buttonRpc, arguments);\n            },\n            showBox: function (url, props) {\n              var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [props.width, props.height], {\n                proxy: function () {\n                  tooltipRpc.callMethod.apply(tooltipRpc, arguments);\n                }\n              });\n              box.show();\n            },\n            statsBox: handleStatsBox\n          }, false, {\n            safe: true\n          });\n          tooltipIfr = tooltipRpc.append(ttHere ? obj : window.document.body, {\n            src: buttonIfr.src + '&act=a_like_tooltip',\n            scrolling: 'no',\n            allowTransparency: true,\n            id: buttonIfr.id + '_tt',\n            style: {\n              position: 'absolute',\n              padding: 0,\n              display: 'block',\n              opacity: 0.01,\n              filter: 'alpha(opacity=1)',\n              border: '0',\n              width: '238px',\n              height: '124px',\n              zIndex: 5000,\n              overflow: 'hidden'\n            }\n          });\n          tooltipIfr.setAttribute('vkhidden', 'yes');\n          obj.onmouseover = tooltipIfr.onmouseover = function () {\n            clearTimeout(checkTO);\n            isOver = true;\n          };\n          obj.onmouseout = tooltipIfr.onmouseout = function () {\n            clearTimeout(checkTO);\n            isOver = false;\n            checkTO = setTimeout(function () {\n              hideTooltip();\n            }, 200);\n          };\n        },\n        statsBox: handleStatsBox,\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        showBox: function (url, props) {\n          var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [], {\n            proxy: function () {\n              buttonRpc.callMethod.apply(buttonRpc, arguments);\n            }\n          });\n          box.show();\n        },\n        proxy: function () {\n          if (tooltipRpc) tooltipRpc.callMethod.apply(tooltipRpc, arguments);\n        }\n      }, {\n        startHeight: height,\n        minWidth: width\n      }, function (o, i, r) {\n        buttonRpc = r;\n        VK.Util.ss(obj = o, {\n          height: height + 'px',\n          width: width + 'px',\n          position: 'relative',\n          clear: 'both'\n        });\n        VK.Util.ss(buttonIfr = i, {\n          height: height + 'px',\n          width: width + 'px',\n          overflow: 'hidden',\n          zIndex: 150\n        });\n      });\n    };\n    VK.Widgets.Poll = function (objId, options, pollId) {\n      var pData = VK.Util.getPageData();\n      // if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n      if (!pollId) throw Error('No poll id passed');\n      options = options || {};\n      var params = {\n        poll_id: pollId,\n        url: options.pageUrl || pData.url || location.href,\n        title: options.pageTitle || pData.title,\n        description: options.pageDescription || pData.description\n      };\n      return VK.Widgets._constructor('widget_poll.php', objId, options, params, {}, {\n        startHeight: 133,\n        minWidth: 300,\n        width: '100%'\n      });\n    };\n    VK.Widgets.PagePoll = function (objId, options, page) {\n      var pData = VK.Util.getPageData();\n      // if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n      options = options || {};\n      var params = {\n        page: page || 0,\n        norealtime: options.norealtime ? 1 : 0,\n        poll_id: options.pollId || '',\n        url: options.pageUrl || pData.url || location.href,\n        title: options.pageTitle || pData.title,\n        description: options.pageDescription || pData.description\n      };\n      return VK.Widgets._constructor('al_widget_poll.php', objId, options, params, {}, {\n        startHeight: 133,\n        minWidth: 300,\n        width: '100%'\n      });\n    };\n    VK.Widgets.Community = VK.Widgets.Group = function (objId, options, gid) {\n      gid = parseInt(gid, 10);\n      var RPC;\n      if (!gid) {\n        throw Error('No group_id passed');\n      }\n      options.mode = parseInt(options.mode, 10).toString();\n      var params = {\n        gid: gid,\n        mode: options.mode ? options.mode : '0'\n      };\n      if (!options.width) options.width = 200;\n      if (options.wall) params.wall = options.wall;\n      params.color1 = options.color1 || '';\n      params.color2 = options.color2 || '';\n      params.color3 = options.color3 || '';\n      params.class_name = options.class_name || '';\n      if (options.no_head) params.no_head = 1;\n      if (!options.height) options.height = 290;\n      if (options.wide) {\n        params.wide = 1;\n        if (options.width < 300) {\n          options.width = 300;\n        }\n      }\n      var cursorBack;\n      function mouseup() {\n        RPC.callMethod('mouseUp');\n        return false;\n      }\n      function move(event) {\n        RPC.callMethod('mouseMove', {\n          screenY: event.screenY\n        });\n        return false;\n      }\n      return VK.Widgets._constructor('widget_community.php', objId, options, params, {\n        showBox: function (url, props) {\n          var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [], {\n            proxy: function () {\n              rpc.callMethod.apply(rpc, arguments);\n            }\n          });\n          box.show();\n        },\n        startDrag: function () {\n          cursorBack = window.document.body.style.cursor;\n          window.document.body.style.cursor = 'pointer';\n          VK.Util.addEvent('mousemove', move);\n          VK.Util.addEvent('mouseup', mouseup);\n        },\n        stopDrag: function () {\n          window.document.body.style.cursor = cursorBack;\n          VK.Util.removeEvent('mousemove', move);\n          VK.Util.removeEvent('mouseup', mouseup);\n        },\n        auth: function () {\n          VK.Auth.login(null, 1);\n        }\n      }, {\n        minWidth: 120,\n        width: '200',\n        height: '290',\n        startHeight: 200\n      }, function (o, i, r) {\n        RPC = r;\n      });\n    };\n    VK.Widgets.Auth = function (objId, options) {\n      var pData = VK.Util.getPageData();\n      if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n      if (!options.width) {\n        options.width = 200;\n      }\n      if (options.type) {\n        type = 1;\n      } else {\n        type = 0;\n      }\n      return VK.Widgets._constructor('widget_auth.php', objId, options, {}, {\n        makeAuth: function (data) {\n          if (data.session) {\n            VK.Auth._loadState = 'loaded';\n            VK.Auth.setSession(data.session, 'connected');\n            VK.Observer.publish('auth.loginStatus', {\n              session: data.session,\n              status: 'connected'\n            });\n            VK.Observer.unsubscribe('auth.loginStatus');\n          }\n          if (options.onAuth) {\n            options.onAuth(data);\n          } else {\n            if (options.authUrl) {\n              var href = options.authUrl;\n            } else {\n              var href = window.location.href;\n            }\n            if (href.indexOf('?') == -1) {\n              href += '?';\n            } else {\n              href += '&';\n            }\n            var vars = [];\n            for (var i in data) {\n              if (i != 'session') vars.push(i + '=' + decodeURIComponent(data[i]).replace(/&/g, '%26').replace(/\\?/, '%3F'));\n            }\n            window.location.href = href + vars.join('&');\n          }\n        }\n      }, {\n        startHeight: 80\n      });\n    };\n    VK.Widgets.Subscribe = function (objId, options, oid) {\n      oid = parseInt(oid, 10);\n      var RPC;\n      if (!oid) {\n        throw Error('No owner_id passed');\n      }\n      var params = {\n        oid: oid\n      };\n      if (options.mode) {\n        params.mode = options.mode;\n      }\n      if (options.soft) {\n        params.soft = options.soft;\n      }\n      return VK.Widgets._constructor('widget_subscribe.php', objId, options, params, {\n        showBox: function (url, props) {\n          var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [], {\n            proxy: function () {\n              rpc.callMethod.apply(rpc, arguments);\n            }\n          });\n          box.show();\n        },\n        auth: function () {\n          VK.Auth.login(null, 1);\n        }\n      }, {\n        minWidth: 220,\n        startHeight: 22,\n        height: options.height || 22\n      }, function (o, i, r) {\n        RPC = r;\n      });\n    };\n    VK.Widgets.ContactUs = function (objId, options, oid) {\n      oid = parseInt(oid, 10);\n      if (!options) options = {};\n      if (!oid) throw Error('No group or user id passed');\n      var RPC,\n        params = {\n          oid: oid,\n          height: {\n            22: 22,\n            24: 24,\n            30: 30\n          }[parseInt(options.height, 10) || 24],\n          text: (options.text || '').substr(0, 140)\n        };\n      return VK.Widgets._constructor('widget_contactus.php', objId, options, params, {}, {\n        startHeight: params.height,\n        height: params.height\n      }, function (o, i, r) {\n        RPC = r;\n      });\n    };\n    VK.Widgets.Ads = function (objId, options, paramsExtra) {\n      options = options || {};\n      paramsExtra = paramsExtra || {};\n      var params = {};\n      var defaults = {};\n      var funcs = {};\n      var obj = window.document.getElementById(objId);\n      var iframe;\n      var rpc;\n      var adsParams = {};\n      var adsParamsLocal = {};\n      var adsParamsDefault = {};\n      for (var key in paramsExtra) {\n        var keyFix = inArray(key, ['hash']) ? key : 'ads_' + key;\n        adsParams[keyFix] = paramsExtra[key];\n      }\n      if (obj && obj.getBoundingClientRect) {\n        obj.style.width = '100%';\n        obj.style.height = '100%';\n        var rect = obj.getBoundingClientRect();\n        obj.style.width = '';\n        obj.style.height = '';\n        adsParams.ads_ad_unit_width_auto = Math.floor(rect.right - rect.left);\n        adsParams.ads_ad_unit_height_auto = Math.floor(rect.bottom - rect.top);\n      }\n      adsParamsDefault.ads_ad_unit_width = 100;\n      adsParamsDefault.ads_ad_unit_height = 100;\n      adsParamsLocal.ads_ad_unit_width = parseInt(adsParams.ads_ad_unit_width) || adsParams.ads_ad_unit_width === 'auto' && adsParams.ads_ad_unit_width_auto || adsParamsDefault.ads_ad_unit_width;\n      adsParamsLocal.ads_ad_unit_height = parseInt(adsParams.ads_ad_unit_height) || adsParams.ads_ad_unit_height === 'auto' && adsParams.ads_ad_unit_height_auto || adsParamsDefault.ads_ad_unit_height;\n      if (adsParams.ads_handler) {\n        adsParamsLocal.ads_handler = adsParams.ads_handler;\n      }\n      if (adsParams.ads_handler_empty_html) {\n        adsParamsLocal.ads_handler_empty_html = adsParams.ads_handler_empty_html;\n      }\n      delete adsParams.ads_handler;\n      delete adsParams.ads_handler_empty_html;\n      params.act = 'ads_web';\n      params.url = location.href;\n      VK.extend(params, adsParams);\n      options.noDefaultParams = true;\n      options.width = adsParamsLocal.ads_ad_unit_width;\n      options.allowTransparency = true;\n      defaults.startHeight = adsParamsLocal.ads_ad_unit_height;\n      defaults.minWidth = adsParamsLocal.ads_ad_unit_width;\n      funcs.adsOnInitLoader = adsOnInitLoader;\n      funcs.adsOnInit = adsOnInit;\n      return VK.Widgets._constructor('ads_rotate.php', objId, options, params, funcs, defaults, onDone);\n      function adsOnInitLoader(adsScriptVersion) {\n        VK.Widgets.loading(obj, true);\n        adsAttachScript(adsScriptVersion);\n      }\n      function adsOnInit(errorCode, adsParamsExport) {\n        VK.Widgets.loading(obj, false);\n        adsProcessParams(adsParamsExport);\n        if (options.onAdsReady) options.onAdsReady.apply(options.onAdsReady, Array.prototype.slice.call(arguments));\n        adsProcessHandler(errorCode);\n      }\n      function adsAttachScript(adsScriptVersion) {\n        if (!('vk__adsLight' in window)) {\n          window.vk__adsLight = false;\n          adsScriptVersion = parseInt(adsScriptVersion);\n          var attachScriptFunc = VK.Api && VK.Api.attachScript || VK.addScript;\n          var base_domain = options.base_domain || VK._protocol + '//vk.com';\n          attachScriptFunc(base_domain + '/js/al/aes_light.js?' + adsScriptVersion);\n        } else if (window.vk__adsLight && vk__adsLight.userHandlers && vk__adsLight.userHandlers.onInit) {\n          vk__adsLight.userHandlers.onInit(false); // false - do not publish initial onInit\n        }\n      }\n\n      function adsProcessParams(adsParamsExport) {\n        if (!adsParamsExport) {\n          return;\n        }\n        for (var paramName in adsParamsExport) {\n          var paramValue = adsParamsExport[paramName];\n          if (paramName === 'ads_ad_unit_width' || paramName === 'ads_ad_unit_height') {\n            if (!(paramName in adsParams)) {\n              adsParamsLocal[paramName] = parseInt(paramValue) || paramValue === 'auto' && adsParams[paramName + '_auto'] || adsParamsDefault[paramName];\n            }\n          } else {\n            if (!(paramName in adsParamsLocal)) {\n              adsParamsLocal[paramName] = paramValue;\n            }\n          }\n        }\n      }\n      function adsProcessHandler(errorCode) {\n        var handlerResult = adsEvalHandler(adsParamsLocal.ads_handler, errorCode);\n        if (errorCode <= 0 && handlerResult !== true) {\n          try {\n            console.log('VK: ad_unit_id = ' + adsParams.ads_ad_unit_id, ', errorCode = ', errorCode);\n          } catch (e) {}\n          adsInsertHtmlHandler(adsParamsLocal.ads_handler_empty_html, adsParamsLocal.ads_ad_unit_width, adsParamsLocal.ads_ad_unit_height);\n        }\n      }\n      function adsEvalHandler(handler) {\n        var result = false;\n        try {\n          if (!handler) {\n            return false;\n          }\n          var func = false;\n          if (isFunction(handler)) {\n            func = handler;\n          } else if (isString(handler)) {\n            var handlerFuncs = handler.split('.');\n            func = window;\n            for (var i = 0, len = handlerFuncs.length; i < len; i++) {\n              func = func[handlerFuncs[i]];\n              if (!func) {\n                break;\n              }\n            }\n            if (!func) {\n              if (handler.substr(0, 8) === 'function') {\n                handler = 'return ' + handler + ';';\n              }\n              var handlerResult = new Function(handler)();\n              if (isFunction(handlerResult)) {\n                func = handlerResult;\n              } else {\n                result = handlerResult;\n              }\n            }\n          }\n          if (func) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            result = func.apply(func, args);\n          }\n        } catch (e) {\n          try {\n            console.error(e);\n          } catch (e2) {}\n        }\n        return result;\n        function isFunction(obj) {\n          return Object.prototype.toString.call(obj) === '[object Function]';\n        }\n        function isString(obj) {\n          return Object.prototype.toString.call(obj) === '[object String]';\n        }\n      }\n      function adsInsertHtmlHandler(handlerHtml, width, height) {\n        if (!handlerHtml) {\n          return;\n        }\n        if (!obj) {\n          return;\n        }\n        width = width ? width + 'px' : '';\n        height = height ? height + 'px' : '';\n        var iframeHandlerHtml = '<html><head></head><body style=\"padding: 0; margin: 0;\"><div>' + handlerHtml + '</div></body></html>';\n        var iframeHandler = window.document.createElement('iframe');\n        iframeHandler.onload = fixIframeHeight;\n        iframeHandler.id = (iframe ? iframe.id : 'vkwidget-' + Math.round(Math.random() * 1000000)) + '_ads_html_handler';\n        iframeHandler.src = 'about:blank';\n        iframeHandler.width = '100%';\n        iframeHandler.height = '100%';\n        iframeHandler.scrolling = 'no';\n        iframeHandler.frameBorder = '0';\n        iframeHandler.allowTransparency = true;\n        iframeHandler.style.overflow = 'hidden';\n        iframeHandler.style.width = width;\n        iframeHandler.style.height = height;\n        obj.style.width = width;\n        obj.style.height = height;\n        obj.appendChild(iframeHandler);\n        iframeHandler.contentWindow.vk_ads_html_handler = iframeHandlerHtml;\n        iframeHandler.src = 'javascript:window[\"vk_ads_html_handler\"]';\n        function fixIframeHeight() {\n          if (height) {\n            return;\n          }\n          try {\n            var rect = iframeHandler.contentWindow.document.body.firstChild.getBoundingClientRect();\n            var heightFix = Math.ceil(rect.bottom - rect.top);\n            if (heightFix) {\n              iframeHandler.style.height = heightFix;\n              obj.style.height = heightFix;\n            }\n          } catch (e) {}\n        }\n      }\n      function indexOf(arr, value, from) {\n        for (var i = from || 0, l = (arr || []).length; i < l; i++) {\n          if (arr[i] == value) return i;\n        }\n        return -1;\n      }\n      function inArray(value, arr) {\n        return indexOf(arr, value) != -1;\n      }\n      function onDone(o, i, r) {\n        obj = o;\n        iframe = i;\n        rpc = r;\n      }\n    };\n    VK.Widgets._constructor = function (widgetUrl, objId, options, params, funcs, defaults, onDone, widgetId, iter) {\n      var obj = window.document.getElementById(objId);\n      widgetId = widgetId || ++VK.Widgets.count;\n      if (!obj) {\n        iter = iter || 0;\n        if (iter > 10) {\n          throw Error('VK.Widgets: object #' + objId + ' not found.');\n        }\n        setTimeout(function () {\n          VK.Widgets._constructor(widgetUrl, objId, options, params, funcs, defaults, onDone, widgetId, iter + 1);\n        }, 500);\n        return widgetId;\n      }\n      var ifr, base_domain, width, url, urlQueryString, encodedParam, rpc, iframe, i;\n      options = options || {};\n      defaults = defaults || {};\n      funcs = funcs || {};\n      base_domain = options.base_domain || VK._protocol + '//vk.com';\n      width = options.width == 'auto' ? obj.clientWidth || '100%' : parseInt(options.width, 10);\n      if (options.height) {\n        params.height = options.height;\n        obj.style.height = options.height + 'px';\n      } else {\n        obj.style.height = (defaults.startHeight || 200) + 'px';\n      }\n      width = width ? Math.max(defaults.minWidth || 200, Math.min(10000, width)) + 'px' : '100%';\n      if (!params.url) {\n        params.url = options.pageUrl || location.href.replace(/#.*$/, '');\n      }\n      url = base_domain + '/' + widgetUrl;\n      urlQueryString = '';\n      if (!options.noDefaultParams) {\n        urlQueryString += '&app=' + (VK._apiId || '0') + '&width=' + width;\n      }\n      urlQueryString += '&_ver=' + VK.version;\n      if (VK._iframeAppWidget) {\n        params.iframe_app = 1;\n      }\n      var pData = VK.Util.getPageData();\n      params.url = params.url || pData.url || \"\";\n      params.referrer = params.referrer || window.document.referrer || \"\";\n      params.title = params.title || pData.title || window.document.title || \"\";\n      for (i in params) {\n        if (i == 'title' && params[i].length > 80) params[i] = params[i].substr(0, 80) + '...';\n        if (i == 'description' && params[i].length > 160) params[i] = params[i].substr(0, 160) + '...';\n        if (typeof params[i] == 'number') {\n          encodedParam = params[i];\n        } else {\n          try {\n            encodedParam = encodeURIComponent(params[i]);\n          } catch (e) {\n            encodedParam = '';\n          }\n        }\n        urlQueryString += '&' + i + '=' + encodedParam;\n      }\n      urlQueryString += '&' + (+new Date()).toString(16);\n      url += '?' + urlQueryString.substr(1);\n      obj.style.width = width;\n      VK.Widgets.loading(obj, true);\n      funcs.publish = function () {\n        var args = Array.prototype.slice.call(arguments);\n        args.push(widgetId);\n        VK.Observer.publish.apply(VK.Observer, args);\n      };\n      funcs.onInit = function () {\n        VK.Widgets.loading(obj, false);\n        if (funcs.onReady) funcs.onReady();\n        if (options.onReady) options.onReady();\n      };\n      funcs.resize = function (e, cb) {\n        obj.style.height = e + 'px';\n        var el = window.document.getElementById('vkwidget' + widgetId);\n        if (el) {\n          el.style.height = e + 'px';\n        }\n      };\n      funcs.resizeWidget = function (newWidth, newHeight) {\n        newWidth = parseInt(newWidth);\n        newHeight = parseInt(newHeight);\n        var widgetElem = window.document.getElementById('vkwidget' + widgetId);\n        if (isFinite(newWidth)) {\n          obj.style.width = newWidth + 'px';\n          if (widgetElem) {\n            widgetElem.style.width = newWidth + 'px';\n          }\n        }\n        if (isFinite(newHeight)) {\n          obj.style.height = newHeight + 'px';\n          if (widgetElem) {\n            widgetElem.style.height = newHeight + 'px';\n          }\n        }\n        if (options.onResizeWidget) options.onResizeWidget();\n      };\n      funcs.updateVersion = function (ver) {\n        if (ver > 1) {\n          VK.Api.attachScript('//vk.com/js/api/openapi_update.js?' + parseInt(ver));\n        }\n      };\n      rpc = VK.Widgets.RPC[widgetId] = new fastXDM.Server(funcs, function (origin) {\n        if (!origin) return true;\n        origin = origin.toLowerCase();\n        return origin.match(/(\\.|\\/)vk\\.com($|\\/|\\?)/);\n      }, {\n        safe: true\n      });\n      iframe = VK.Widgets.RPC[widgetId].append(obj, {\n        src: url,\n        width: width.indexOf('%') != -1 ? width : parseInt(width) || width,\n        height: defaults.startHeight || '100%',\n        scrolling: 'no',\n        id: 'vkwidget' + widgetId,\n        allowTransparency: options.allowTransparency || false,\n        style: {\n          overflow: 'hidden'\n        }\n      });\n      onDone && setTimeout(function () {\n        onDone(obj, iframe || obj.firstChild, rpc);\n      }, 10);\n      return widgetId;\n    };\n  }\n  if (!VK.Util) {\n    VK.Util = {\n      getPageData: function () {\n        if (!VK._pData) {\n          var metas = window.document.getElementsByTagName('meta'),\n            pData = {},\n            keys = ['description', 'title', 'url', 'image', 'app_id'],\n            metaName;\n          for (var i in metas) {\n            if (!metas[i].getAttribute) continue;\n            if (metas[i].getAttribute && ((metaName = metas[i].getAttribute('name')) || (metaName = metas[i].getAttribute('property')))) {\n              for (var j in keys) {\n                if (metaName == keys[j] || metaName == 'og:' + keys[j] || metaName == 'vk:' + keys[j]) {\n                  pData[keys[j]] = metas[i].content;\n                }\n              }\n            }\n          }\n          if (pData.app_id && !VK._apiId) {\n            VK._apiId = pData.app_id;\n          }\n          pData.title = pData.title || window.document.title || '';\n          pData.description = pData.description || '';\n          pData.image = pData.image || '';\n          if (!pData.url && VK._iframeAppWidget && VK._apiId) {\n            pData.url = '/app' + VK._apiId;\n            if (VK._browserHash) {\n              pData.url += VK._browserHash;\n            }\n          }\n          var loc = location.href.replace(/#.*$/, '');\n          if (!pData.url || !pData.url.indexOf(loc)) {\n            pData.url = loc;\n          }\n          VK._pData = pData;\n        }\n        return VK._pData;\n      },\n      getStyle: function (elem, name) {\n        var ret,\n          defaultView = window.document.defaultView || window;\n        if (defaultView.getComputedStyle) {\n          name = name.replace(/([A-Z])/g, '-$1').toLowerCase();\n          var computedStyle = defaultView.getComputedStyle(elem, null);\n          if (computedStyle) {\n            ret = computedStyle.getPropertyValue(name);\n          }\n        } else if (elem.currentStyle) {\n          var camelCase = name.replace(/\\-(\\w)/g, function (all, letter) {\n            return letter.toUpperCase();\n          });\n          ret = elem.currentStyle[name] || elem.currentStyle[camelCase];\n        }\n        return ret;\n      },\n      getXY: function (obj, fixed) {\n        if (!obj || obj === undefined) return;\n        var left = 0,\n          top = 0;\n        if (obj.getBoundingClientRect !== undefined) {\n          var rect = obj.getBoundingClientRect();\n          left = rect.left;\n          top = rect.top;\n          fixed = true;\n        } else if (obj.offsetParent) {\n          do {\n            left += obj.offsetLeft;\n            top += obj.offsetTop;\n            if (fixed) {\n              left -= obj.scrollLeft;\n              top -= obj.scrollTop;\n            }\n          } while (obj = obj.offsetParent);\n        }\n        if (fixed) {\n          top += window.pageYOffset || window.scrollNode && scrollNode.scrollTop || window.document.documentElement.scrollTop;\n          left += window.pageXOffset || window.scrollNode && scrollNode.scrollLeft || window.document.documentElement.scrollLeft;\n        }\n        return [left, top];\n      },\n      Box: function (src, sizes, fnc, options) {\n        fnc = fnc || {};\n        var overflowB = window.document.body.style.overflow;\n        var loader = window.document.createElement('DIV');\n        var rpc = new fastXDM.Server(VK.extend(fnc, {\n            onInit: function () {\n              iframe.style.background = 'transparent';\n              iframe.style.visibility = 'visible';\n              window.document.body.style.overflow = 'hidden';\n              window.document.body.removeChild(loader);\n            },\n            hide: function () {\n              iframe.style.display = 'none';\n            },\n            tempHide: function () {\n              iframe.style.left = '-10000px';\n              iframe.style.top = '-10000px';\n              iframe.style.width = '10px';\n              iframe.style.height = '10px';\n              window.document.body.style.overflow = overflowB;\n            },\n            destroy: function () {\n              try {\n                iframe.src = 'about: blank;';\n              } catch (e) {}\n              iframe.parentNode.removeChild(iframe);\n              window.document.body.style.overflow = overflowB;\n            },\n            resize: function (w, h) {}\n          }, true), false, {\n            safe: true\n          }),\n          iframe = rpc.append(window.document.body, {\n            src: src.replace(/&amp;/g, '&'),\n            scrolling: 'no',\n            allowTransparency: true,\n            style: {\n              position: 'fixed',\n              left: 0,\n              top: 0,\n              zIndex: 1002,\n              background: VK._protocol + '//vk.com/images/upload.gif center center no-repeat transparent',\n              padding: '0',\n              border: '0',\n              width: '100%',\n              height: '100%',\n              overflow: 'hidden',\n              visibility: 'hidden'\n            }\n          });\n        loader.innerHTML = '<div style=\"position: fixed;left: 50%;top: 50%;margin: 0px auto 0px -60px;z-index: 1002;width: 100px;\"><div style=\"background: url(//vk.com/images/upload_inv_mono' + (window.devicePixelRatio >= 2 ? '_2x' : '') + '.gif) no-repeat 50% 50%;background-size: 64px 16px;height: 50px;position: absolute;width: 100%;z-index: 100;\"></div><div style=\"background-color: #000;opacity: 0.7;filter: alpha(opacity=70);height: 50px;-webkit-border-radius: 5px;-khtml-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);\"></div></div>';\n        window.document.body.insertBefore(loader, window.document.body.firstChild);\n        return {\n          show: function (scrollTop, height) {\n            iframe.style.display = 'block';\n            window.document.body.style.overflow = 'hidden';\n          },\n          hide: function () {\n            iframe.style.display = 'none';\n            window.document.body.style.overflow = overflowB;\n          },\n          iframe: iframe,\n          rpc: rpc\n        };\n      },\n      addEvent: function (type, func) {\n        if (window.document.addEventListener) {\n          window.document.addEventListener(type, func, false);\n        } else if (window.document.attachEvent) {\n          window.document.attachEvent('on' + type, func);\n        }\n      },\n      removeEvent: function (type, func) {\n        if (window.document.removeEventListener) {\n          window.document.removeEventListener(type, func, false);\n        } else if (window.document.detachEvent) {\n          window.document.detachEvent('on' + type, func);\n        }\n      },\n      ss: function (el, styles) {\n        VK.extend(el.style, styles, true);\n      }\n    };\n  }\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = VK;\n  }\n  if (typeof window !== 'undefined') {\n    window.VK = VK;\n  }\n})();","map":{"version":3,"names":["fastXDM","require","VK","MD5","n","j","o","r","q","p","g","k","w","v","u","a","h","c","m","b","A","z","y","t","s","length","f","charCodeAt","String","fromCharCode","e","Array","l","d","i","charAt","extend","target","source","overwrite","key","_protocol","location","protocol","xdConnectionCallbacks","version","_apiId","_session","_userStatus","_domain","main","api","_path","login","proxy","_rootId","_nameTransportPath","xdReady","access","FRIENDS","PHOTOS","AUDIO","VIDEO","MATCHES","QUESTIONS","WIKI","init","options","body","root","apiId","Error","onlyWidgets","nameTransportPath","window","document","getElementById","createElement","id","getElementsByTagName","insertBefore","childNodes","style","position","top","session","Cookie","load","Auth","_loadState","setSession","cookie","match","decode","secret","expire","parseInt","hostname","setRaw","val","ts","domain","time","rawCookie","exp","Date","getTime","toGMTString","set","resp","encode","clear","params","pairs","push","encodeURIComponent","sort","join","str","parts","split","pair","decodeURIComponent","Api","_headId","_callbacks","ie6_7","ieTested","isIE6_7","navigator","userAgent","supportCORS","xhr","XMLHttpRequest","XDomainRequest","makeRequest","url","cb","createRequest","onload","text","responseText","status","console","error","response","onerror","send","method","open","withCredentials","attachScript","newScript","type","setAttribute","src","appendChild","checkMethod","queryTry","toLowerCase","message","query","owner_id","attachments","attachment","publish_date","method_access","Math","random","toString","substr","popup","UI","width","height","timer","setInterval","active","closed","clearInterval","call","qs","responseCb","method_force","authFunc","result","Observer","unsubscribe","subscribe","getLoginStatus","queryLength","useXDM","rnd","callback","sid","access_token","error_code","repeatCall","XDM","remote","callMethod","len","lsCb","settings","logout","both","mid","sessionChange","statusChange","setTimeout","publish","authCallback","popupOpened","popupCheck","revokeGrants","onLogout","logoutCallback","getSession","force","loginCallback","JSON","parse","eval","auth","user","sig","pop","Widgets","_constructor","_buttons","screenX","screenLeft","screenY","screenTop","outerWidth","clientWidth","outerHeight","clientHeight","left","features","button","el","handler","html","index","innerHTML","offsetWidth","_change","state","row","rows","elems","cells","firstChild","elem","backgroundColor","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","backgroundPosition","Server","onInit","append","xdHandler","code","_subscribers","_subscribersMap","eventName","args","prototype","slice","arguments","shift","subscribers","apply","count","RPC","loading","obj","enabled","background","Comments","objId","page","pData","Util","getPageData","limit","mini","undefined","norealtime","mouseup","rpc","move","event","iframe","browse","replies","pageUrl","host","status_publish","autoPublish","attach","title","pageTitle","description","pageDescription","image","pageImage","onChange","showBox","props","box","Box","base_domain","show","startDrag","cursorBack","cursor","addEvent","stopDrag","removeEvent","startHeight","minWidth","CommentsBrowse","Recommended","max","verb","period","Post","ownerId","postId","hash","post_id","preview","Like","allowTransparency","btnHeight","color","ttHere","isOver","buttonIfr","buttonRpc","tooltipIfr","tooltipRpc","checkTO","statsBox","showTooltip","display","getAttribute","scrollTop","getScrollTop","documentElement","objPos","getXY","fixed","startY","tooltipPos","ss","opacity","filter","hideTooltip","handleStatsBox","act","initTooltip","counter","safe","scrolling","padding","border","zIndex","overflow","onmouseover","clearTimeout","onmouseout","Poll","pollId","poll_id","href","PagePoll","Community","Group","gid","mode","wall","color1","color2","color3","class_name","no_head","wide","makeAuth","data","onAuth","authUrl","indexOf","vars","replace","Subscribe","oid","soft","ContactUs","Ads","paramsExtra","defaults","funcs","adsParams","adsParamsLocal","adsParamsDefault","keyFix","inArray","getBoundingClientRect","rect","ads_ad_unit_width_auto","floor","right","ads_ad_unit_height_auto","bottom","ads_ad_unit_width","ads_ad_unit_height","ads_handler","ads_handler_empty_html","noDefaultParams","adsOnInitLoader","adsOnInit","onDone","adsScriptVersion","adsAttachScript","errorCode","adsParamsExport","adsProcessParams","onAdsReady","adsProcessHandler","vk__adsLight","attachScriptFunc","addScript","userHandlers","paramName","paramValue","handlerResult","adsEvalHandler","log","ads_ad_unit_id","adsInsertHtmlHandler","func","isFunction","isString","handlerFuncs","Function","e2","Object","handlerHtml","iframeHandlerHtml","iframeHandler","fixIframeHeight","round","frameBorder","contentWindow","vk_ads_html_handler","heightFix","ceil","arr","value","from","widgetUrl","widgetId","iter","ifr","urlQueryString","encodedParam","min","_iframeAppWidget","iframe_app","referrer","onReady","resize","resizeWidget","newWidth","newHeight","widgetElem","isFinite","onResizeWidget","updateVersion","ver","origin","_pData","metas","keys","metaName","content","app_id","_browserHash","loc","getStyle","name","ret","defaultView","getComputedStyle","computedStyle","getPropertyValue","currentStyle","camelCase","all","letter","toUpperCase","offsetParent","offsetLeft","offsetTop","scrollLeft","pageYOffset","scrollNode","pageXOffset","sizes","fnc","overflowB","loader","visibility","removeChild","hide","tempHide","destroy","parentNode","devicePixelRatio","addEventListener","attachEvent","removeEventListener","detachEvent","styles","module","exports"],"sources":["/home/vlad12345/Projects/api.ru/node_modules/vk-openapi/index.js"],"sourcesContent":["(function() {\nvar fastXDM = require('./fast-xdm');\nvar VK = {};\n\n\n/*\n * Based on JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n */\nif(!VK.MD5){VK.MD5=function(n){var j=function(o,r){var q=(o&65535)+(r&65535),p=(o>>16)+(r>>16)+(q>>16);return(p<<16)|(q&65535)},g=function(o,p){return(o<<p)|(o>>>(32-p))},k=function(w,r,p,o,v,u){return j(g(j(j(r,w),j(o,u)),v),p)},a=function(q,p,w,v,o,u,r){return k((p&w)|((~p)&v),q,p,o,u,r)},h=function(q,p,w,v,o,u,r){return k((p&v)|(w&(~v)),q,p,o,u,r)},c=function(q,p,w,v,o,u,r){return k(p^w^v,q,p,o,u,r)},m=function(q,p,w,v,o,u,r){return k(w^(p|(~v)),q,p,o,u,r)},b=function(A,u){var z=1732584193,y=-271733879,w=-1732584194,v=271733878,r,q,p,o;A[u>>5]|=128<<((u)%32);A[(((u+64)>>>9)<<4)+14]=u;for(var t=0,s=A.length;t<s;t+=16){r=z;q=y;p=w;o=v;z=a(z,y,w,v,A[t+0],7,-680876936);v=a(v,z,y,w,A[t+1],12,-389564586);w=a(w,v,z,y,A[t+2],17,606105819);y=a(y,w,v,z,A[t+3],22,-1044525330);z=a(z,y,w,v,A[t+4],7,-176418897);v=a(v,z,y,w,A[t+5],12,1200080426);w=a(w,v,z,y,A[t+6],17,-1473231341);y=a(y,w,v,z,A[t+7],22,-45705983);z=a(z,y,w,v,A[t+8],7,1770035416);v=a(v,z,y,w,A[t+9],12,-1958414417);w=a(w,v,z,y,A[t+10],17,-42063);y=a(y,w,v,z,A[t+11],22,-1990404162);z=a(z,y,w,v,A[t+12],7,1804603682);v=a(v,z,y,w,A[t+13],12,-40341101);w=a(w,v,z,y,A[t+14],17,-1502002290);y=a(y,w,v,z,A[t+15],22,1236535329);z=h(z,y,w,v,A[t+1],5,-165796510);v=h(v,z,y,w,A[t+6],9,-1069501632);w=h(w,v,z,y,A[t+11],14,643717713);y=h(y,w,v,z,A[t+0],20,-373897302);z=h(z,y,w,v,A[t+5],5,-701558691);v=h(v,z,y,w,A[t+10],9,38016083);w=h(w,v,z,y,A[t+15],14,-660478335);y=h(y,w,v,z,A[t+4],20,-405537848);z=h(z,y,w,v,A[t+9],5,568446438);v=h(v,z,y,w,A[t+14],9,-1019803690);w=h(w,v,z,y,A[t+3],14,-187363961);y=h(y,w,v,z,A[t+8],20,1163531501);z=h(z,y,w,v,A[t+13],5,-1444681467);v=h(v,z,y,w,A[t+2],9,-51403784);w=h(w,v,z,y,A[t+7],14,1735328473);y=h(y,w,v,z,A[t+12],20,-1926607734);z=c(z,y,w,v,A[t+5],4,-378558);v=c(v,z,y,w,A[t+8],11,-2022574463);w=c(w,v,z,y,A[t+11],16,1839030562);y=c(y,w,v,z,A[t+14],23,-35309556);z=c(z,y,w,v,A[t+1],4,-1530992060);v=c(v,z,y,w,A[t+4],11,1272893353);w=c(w,v,z,y,A[t+7],16,-155497632);y=c(y,w,v,z,A[t+10],23,-1094730640);z=c(z,y,w,v,A[t+13],4,681279174);v=c(v,z,y,w,A[t+0],11,-358537222);w=c(w,v,z,y,A[t+3],16,-722521979);y=c(y,w,v,z,A[t+6],23,76029189);z=c(z,y,w,v,A[t+9],4,-640364487);v=c(v,z,y,w,A[t+12],11,-421815835);w=c(w,v,z,y,A[t+15],16,530742520);y=c(y,w,v,z,A[t+2],23,-995338651);z=m(z,y,w,v,A[t+0],6,-198630844);v=m(v,z,y,w,A[t+7],10,1126891415);w=m(w,v,z,y,A[t+14],15,-1416354905);y=m(y,w,v,z,A[t+5],21,-57434055);z=m(z,y,w,v,A[t+12],6,1700485571);v=m(v,z,y,w,A[t+3],10,-1894986606);w=m(w,v,z,y,A[t+10],15,-1051523);y=m(y,w,v,z,A[t+1],21,-2054922799);z=m(z,y,w,v,A[t+8],6,1873313359);v=m(v,z,y,w,A[t+15],10,-30611744);w=m(w,v,z,y,A[t+6],15,-1560198380);y=m(y,w,v,z,A[t+13],21,1309151649);z=m(z,y,w,v,A[t+4],6,-145523070);v=m(v,z,y,w,A[t+11],10,-1120210379);w=m(w,v,z,y,A[t+2],15,718787259);y=m(y,w,v,z,A[t+9],21,-343485551);z=j(z,r);y=j(y,q);w=j(w,p);v=j(v,o)}return[z,y,w,v]},f=function(r){var q=\"\",s=-1,p=r.length,o,t;while(++s<p){o=r.charCodeAt(s);t=s+1<p?r.charCodeAt(s+1):0;if(55296<=o&&o<=56319&&56320<=t&&t<=57343){o=65536+((o&1023)<<10)+(t&1023);s++}if(o<=127){q+=String.fromCharCode(o)}else{if(o<=2047){q+=String.fromCharCode(192|((o>>>6)&31),128|(o&63))}else{if(o<=65535){q+=String.fromCharCode(224|((o>>>12)&15),128|((o>>>6)&63),128|(o&63))}else{if(o<=2097151){q+=String.fromCharCode(240|((o>>>18)&7),128|((o>>>12)&63),128|((o>>>6)&63),128|(o&63))}}}}}return q},e=function(p){var o=Array(p.length>>2),r,q;for(r=0,q=o.length;r<q;r++){o[r]=0}for(r=0,q=p.length*8;r<q;r+=8){o[r>>5]|=(p.charCodeAt(r/8)&255)<<(r%32)}return o},l=function(p){var o=\"\";for(var r=0,q=p.length*32;r<q;r+=8){o+=String.fromCharCode((p[r>>5]>>>(r%32))&255)}return o},d=function(o){return l(b(e(o),o.length*8))},i=function(q){var t=\"0123456789abcdef\",p=\"\",o;for(var s=0,r=q.length;s<r;s++){o=q.charCodeAt(s);p+=t.charAt((o>>>4)&15)+t.charAt(o&15)}return p};return i(d(f(n)))}}\n\n/*\n * VKontakte Open API JavaScript library\n * http://vk.com/\n */\n\nVK.extend = function(target, source, overwrite) {\n  for (var key in source) {\n    if (overwrite || typeof target[key] === 'undefined') {\n      target[key] = source[key];\n    }\n  }\n  return target;\n};\n\nif (VK._protocol !== 'https:') {\n  VK._protocol = ((location.protocol === 'https:') ? 'https:' : 'http:');\n}\n\nif (!VK.xdConnectionCallbacks) {\n\n  VK.extend(VK, {\n    version: 1,\n    _apiId: null,\n    _session: null,\n    _userStatus: 'unknown',\n    _domain: {\n      main: 'https://oauth.vk.com/',\n      api: 'https://api.vk.com/'\n    },\n    _path: {\n      login: 'authorize',\n      proxy: 'fxdm_oauth_proxy.html'\n    },\n    _rootId: 'vk_api_transport',\n    _nameTransportPath: '',\n    xdReady: false,\n    access: {\n      FRIENDS:   0x2,\n      PHOTOS:    0x4,\n      AUDIO:     0x8,\n      VIDEO:     0x10,\n      MATCHES:   0x20,\n      QUESTIONS: 0x40,\n      WIKI:      0x80\n    }\n  });\n\n  VK.init = function(options) {\n    var body, root;\n\n    VK._apiId = null;\n    if (!options.apiId) {\n      throw Error('VK.init() called without an apiId');\n    }\n    VK._apiId = options.apiId;\n\n    if (options.onlyWidgets) return true;\n\n    if (options.nameTransportPath && options.nameTransportPath !== '') {\n      VK._nameTransportPath = options.nameTransportPath;\n    }\n\n    root = window.document.getElementById(VK._rootId);\n    if (!root) {\n      root = window.document.createElement('div');\n      root.id = VK._rootId;\n      body = window.document.getElementsByTagName('body')[0];\n      body.insertBefore(root, body.childNodes[0]);\n    }\n    root.style.position = 'absolute';\n    root.style.top = '-10000px';\n\n    var session = VK.Cookie.load();\n    if (session) {\n      VK.Auth._loadState = 'loaded';\n      VK.Auth.setSession(session, session ? 'connected' : 'unknown');\n    }\n  };\n\n  if (!VK.Cookie) {\n    VK.Cookie = {\n      _domain: null,\n      load: function() {\n        var\n            cookie = window.document.cookie.match('\\\\bvk_app_' + VK._apiId + '=([^;]*)\\\\b'),\n            session;\n\n        if (cookie) {\n          session = this.decode(cookie[1]);\n          if (session.secret != 'oauth') {\n            return false;\n          }\n          session.expire = parseInt(session.expire, 10);\n          VK.Cookie._domain = '.' + window.location.hostname;//session.base_domain;\n        }\n\n        return session;\n      },\n      setRaw: function(val, ts, domain, time) {\n        var rawCookie;\n        rawCookie = 'vk_app_' + VK._apiId + '=' + val + '';\n        var exp = time ? (new Date().getTime() + time * 1000) : ts * 1000;\n        rawCookie += (val && ts === 0 ? '' : '; expires=' + new Date(exp).toGMTString());\n        rawCookie += '; path=/';\n        rawCookie += (domain ? '; domain=.' + domain : '');\n        window.document.cookie = rawCookie;\n\n        this._domain = domain;\n      },\n      set: function(session, resp) {\n        if (session) {\n          this.setRaw(this.encode(session), session.expire, window.location.hostname, (resp || {}).time);\n        } else {\n          this.clear();\n        }\n      },\n      clear: function() {\n        this.setRaw('', 0, this._domain, 0);\n      },\n      encode: function(params) {\n        var\n            pairs = [],\n            key;\n\n        for (key in params) {\n          if (key != 'user') pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n        }\n        pairs.sort();\n\n        return pairs.join('&');\n      },\n      decode: function(str) {\n        var\n            params = {},\n            parts = str.split('&'),\n            i,\n            pair;\n\n        for (i=0; i < parts.length; i++) {\n          pair = parts[i].split('=', 2);\n          if (pair && pair[0]) {\n            params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n          }\n        }\n\n        return params;\n      }\n    };\n  }\n\n  if (!VK.Api) {\n    VK.Api = {\n      _headId: null,\n      _callbacks: {},\n\n      ie6_7: function() {\n        if (!VK.Api.ieTested) {\n          VK.Api.isIE6_7 = navigator.userAgent.match(/MSIE [6|7]/i);\n          VK.Api.ieTested = true;\n        }\n        return VK.Api.isIE6_7;\n      },\n\n      supportCORS: function() {\n        var xhr = new XMLHttpRequest();\n        if (\"withCredentials\" in xhr) {\n          return true;\n        }\n\n        if (typeof XDomainRequest != \"undefined\") {\n          return true;\n        }\n\n        return false;\n      },\n\n      makeRequest: function(url, cb) {\n        var xhr = VK.Api.createRequest('GET', url);\n        if (!xhr) {\n          return false;\n        }\n\n        xhr.onload = function() {\n          var text = xhr.responseText;\n          if (xhr.status === 200) {\n            cb(text);\n          } else {\n            try {\n              console.error('Open api access error', xhr.response);\n            } catch(e) {\n              //nop\n            }\n          }\n        };\n\n        xhr.onerror = function() {\n          try {\n            console.error('Open api access error');\n          } catch(e) {\n            //nop\n          }\n        };\n\n        xhr.send();\n        return true;\n      },\n\n      createRequest: function(method, url) {\n        var xhr = new XMLHttpRequest();\n\n        if (\"withCredentials\" in xhr) {\n          // XHR for Chrome/Firefox/Opera/Safari.\n          xhr.open(method, url, true);\n          xhr.withCredentials = true;\n        } else if (typeof XDomainRequest != \"undefined\") {\n          // XDomainRequest for IE.\n          xhr = new XDomainRequest();\n          xhr.open(method, url);\n          xhr.withCredentials = true;\n        } else {\n          // CORS not supported.\n          xhr = null;\n        }\n\n        return xhr;\n      },\n\n      attachScript: function(url) {\n        if (!VK.Api._headId) VK.Api._headId = window.document.getElementsByTagName(\"head\")[0];\n        var newScript = window.document.createElement('script');\n        newScript.type = 'text/javascript';\n        newScript.setAttribute('encoding', 'UTF-8');\n        newScript.src = url;\n        VK.Api._headId.appendChild(newScript);\n      },\n\n      checkMethod: function(method, params, cb, queryTry) {\n        var m = method.toLowerCase();\n        if (m == 'wall.post' || m == 'activity.set') {\n          var text = (m == 'activity.set') ? params.text : params.message;\n          if (!text) {\n            text = '';\n          }\n          var query =  VK._protocol + '//vk.com/al_apps.php?act=wall_post_box&widget=1&method='+m+'&aid=' + parseInt(VK._apiId, 10) + '&text=' + encodeURIComponent(text);\n          if (m == 'wall.post') {\n            query += '&owner_id=' + parseInt(params.owner_id || 0, 10) + '&attachments=' + (params.attachments || params.attachment || '') + '&publish_date=' + (params.publish_date || '');\n          }\n          var method_access = '_'+(Math.random()).toString(16).substr(2);\n          query += '&method_access='+method_access;\n          var popup = VK.UI.popup({\n            url: query,\n            width: 460,\n            height: 249\n          });\n          var timer = setInterval(function() {\n            if (VK.UI.active.closed) {\n              clearInterval(timer);\n              params.method_access = method_access;\n              VK.Api.call(method, params, cb, queryTry);\n            }\n          }, 500);\n          return false;\n        }\n        return true;\n      },\n\n      call: function(method, params, cb, queryTry) {\n        var\n            query = params || {},\n            qs,\n            responseCb;\n\n        if (typeof query != 'object' || typeof cb != 'function') {\n          return false;\n        }\n        if (!params.method_access && !params.method_force && !VK.Api.checkMethod(method, params, cb, queryTry)) {\n          return;\n        }\n\n        if (!queryTry) queryTry = 0;\n\n        if (VK.Auth._loadState != 'loaded') {\n          var authFunc = function(result) {\n            if (result && result.session) {\n              VK.Observer.unsubscribe('auth.loginStatus', authFunc);\n              VK.Api.call(method, params, cb);\n            }\n          };\n          VK.Observer.subscribe('auth.loginStatus', authFunc);\n          VK.Auth.getLoginStatus();\n          return;\n        }\n\n        if (VK.Api.queryLength(query) < 1500 && !VK.Api.ie6_7()) {\n          var useXDM = false;\n          var rnd = parseInt(Math.random() * 10000000, 10);\n          while (VK.Api._callbacks[rnd]) {\n            rnd = parseInt(Math.random() * 10000000, 10)\n          }\n          query.callback = 'VK.Api._callbacks['+rnd+']';\n        } else {\n          var useXDM = true;\n        }\n\n        if (VK._session && VK._session.sid) {\n          query.access_token = VK._session.sid;\n        }\n\n        qs = VK.Cookie.encode(query);\n\n        responseCb = function(response) {\n          if (response.error && (response.error.error_code == 3 || response.error.error_code == 4 || response.error.error_code == 5)) {\n            if (queryTry > 3) return false;\n            var repeatCall = function(resp) {\n              VK.Observer.unsubscribe('auth.sessionChange', repeatCall);\n              delete params.access_token;\n              if (resp.session) VK.Api.call(method, params, cb, queryTry + 1);\n            }\n            VK.Observer.subscribe('auth.sessionChange', repeatCall);\n            VK.Auth.getLoginStatus();\n          } else {\n            cb(response);\n          }\n          if (!useXDM) delete VK.Api._callbacks[rnd];\n        };\n\n        if (useXDM) {\n          if (VK.xdReady) {\n            VK.XDM.remote.callMethod('apiCall', method, qs, responseCb);\n          } else {\n            VK.Observer.subscribe('xdm.init', function() {\n              VK.XDM.remote.callMethod('apiCall', method, qs, responseCb);\n            });\n            VK.XDM.init();\n          }\n        } else {\n          VK.Api._callbacks[rnd] = responseCb;\n          VK.Api.attachScript(VK._domain.api + 'method/' + method +'?' + qs);\n        }\n      },\n\n      queryLength: function(query) {\n        var len = 100, i; // sid + sig\n        for (i in query) {\n          len += i.length + encodeURIComponent(query[i]).length + 1;\n        }\n        return len;\n      }\n    };\n\n// Alias\n    VK.api = function(method, params, cb) {VK.Api.call(method, params, cb);}\n  };\n\n  if (!VK.Auth) {\n    VK.Auth = {\n      popup: null,\n      lsCb: {},\n\n      setSession: function(session, status, settings, resp) {\n        var\n            login = !VK._session && session,\n            logout = VK._session && !session,\n            both = VK._session && session && VK._session.mid != session.mid,\n            sessionChange = login || logout || (VK._session && session && VK._session.sid != session.sid),\n            statusChange = status != VK._userStatus,\n            response = {\n              'session': session,\n              'status': status,\n              'settings': settings\n            };\n\n        VK._session = session;\n\n        VK._userStatus = status;\n\n        VK.Cookie.set(session, resp);\n\n        if (sessionChange || statusChange || both) {\n          setTimeout(function() {\n            if (statusChange) {\n              VK.Observer.publish('auth.statusChange', response);\n            }\n\n            if (logout || both) {\n              VK.Observer.publish('auth.logout', response);\n            }\n\n            if (login || both) {\n              VK.Observer.publish('auth.login', response);\n            }\n\n            if (sessionChange) {\n              VK.Observer.publish('auth.sessionChange', response);\n            }\n          }, 0);\n        }\n\n        return response;\n      },\n\n      // Public VK.Auth methods\n      login: function(cb, settings) {\n        if (!VK._apiId) {\n          return false;\n        }\n\n        var url = VK._domain.main + VK._path.login + '?client_id='+VK._apiId+'&display=popup&redirect_uri=close.html&response_type=token';\n        if (settings && parseInt(settings, 10) > 0) {\n          url += '&scope=' + settings;\n        }\n\n        VK.Observer.unsubscribe('auth.onLogin');\n        VK.Observer.subscribe('auth.onLogin', cb);\n\n        VK.UI.popup({\n          width: 665,\n          height: 370,\n          url: url\n        });\n\n        var authCallback = function() {\n          VK.Auth.getLoginStatus(function(resp) {\n            VK.Observer.publish('auth.onLogin', resp);\n            VK.Observer.unsubscribe('auth.onLogin');\n          }, true);\n        }\n\n        VK.UI.popupOpened = true;\n        var popupCheck = function() {\n          if (!VK.UI.popupOpened) {\n            return false;\n          }\n\n          try {\n            if (!VK.UI.active.top || VK.UI.active.closed) {\n              VK.UI.popupOpened = false;\n              authCallback();\n              return true;\n            }\n          } catch(e) {\n            VK.UI.popupOpened = false;\n            authCallback();\n            return true;\n          }\n          setTimeout(popupCheck, 100);\n        };\n\n        setTimeout(popupCheck, 100);\n      },\n\n      // Logout user from app, vk.com & login.vk.com\n      logout: function(cb) {\n        VK.Auth.revokeGrants(cb);\n      },\n\n      revokeGrants: function(cb) {\n        var onLogout = function(resp) {\n          VK.Observer.unsubscribe('auth.statusChange', onLogout);\n          if (cb) {\n            cb(resp);\n          }\n        }\n\n        VK.Observer.subscribe('auth.statusChange', onLogout);\n        if (VK._session && VK._session.sid) {\n          var url = 'https://login.vk.com/?act=openapi&oauth=1&aid=' + parseInt(VK._apiId, 10) + '&location=' + encodeURIComponent(window.location.hostname) + '&do_logout=1&token=' + VK._session.sid;\n          if (VK.Api.supportCORS()) {\n            var logoutCallback = function() {\n              VK.Auth.setSession(null, 'unknown');\n            };\n\n            VK.Api.makeRequest(url + '&new=1', logoutCallback);\n          } else {\n            VK.Api.attachScript(url);\n          }\n        }\n\n        VK.Cookie.clear();\n      },\n\n      // Get current login status from session (sync) (not use on load time)\n      getSession: function() {\n        return VK._session;\n      },\n\n      // Get current login status from vk.com (async)\n      getLoginStatus: function(cb, force) {\n        if (!VK._apiId) {\n          return;\n        }\n\n        if (cb) {\n          if (!force && VK.Auth._loadState == 'loaded') {\n            cb({status: VK._userStatus, session: VK._session});\n            return;\n          } else {\n            VK.Observer.subscribe('auth.loginStatus', cb);\n          }\n        }\n\n        if (!force && VK.Auth._loadState == 'loading') {\n          return;\n        }\n\n        VK.Auth._loadState = 'loading';\n\n        var url = 'https://login.vk.com/?act=openapi&oauth=1&aid=' + parseInt(VK._apiId, 10) + '&location=' + encodeURIComponent(window.location.hostname);\n        if (VK.Api.supportCORS()) {\n          var loginCallback = function(response) {\n            if (!this.JSON) {\n              this.JSON = {};\n            }\n\n            if (typeof JSON.parse !== 'function') {\n              //IE6 and IE7\n              response = eval(response);\n            } else {\n              response = JSON.parse(response);\n            }\n\n            VK.Auth._loadState = 'loaded';\n            if (response && response.auth) {\n              var session = {\n                mid: response.user.id,\n                sid: response.access_token,\n                sig: response.sig,\n                secret: response.secret,\n                expire: response.expire\n              };\n\n              if (force) {\n                session.user = response.user;\n              }\n\n              var status = 'connected';\n            } else {\n              var session = null;\n              var status = response.user ? 'not_authorized' : 'unknown';\n              VK.Cookie.clear();\n            }\n\n            VK.Auth.setSession(session, status, false, response);\n            VK.Observer.publish('auth.loginStatus', {session: session, status: status});\n            VK.Observer.unsubscribe('auth.loginStatus');\n          };\n\n          VK.Api.makeRequest(url + '&new=1', loginCallback);\n        } else {\n          var rnd = parseInt(Math.random() * 10000000, 10);\n          while (VK.Auth.lsCb[rnd]) {\n            rnd = parseInt(Math.random() * 10000000, 10);\n          }\n\n          VK.Auth.lsCb[rnd] = function(response) {\n            delete VK.Auth.lsCb[rnd];\n            VK.Auth._loadState = 'loaded';\n            if (response && response.auth) {\n              var session = {\n                mid: response.user.id,\n                sid: response.access_token,\n                sig: response.sig,\n                secret: response.secret,\n                expire: response.expire\n              };\n              if (force) session.user = response.user;\n              var status = 'connected';\n            } else {\n              var session = null;\n              var status = response.user ? 'not_authorized' : 'unknown';\n              VK.Cookie.clear();\n            }\n            VK.Auth.setSession(session, status, false, response);\n            VK.Observer.publish('auth.loginStatus', {session: session, status: status});\n            VK.Observer.unsubscribe('auth.loginStatus');\n          };\n\n            // AttachScript here\n          VK.Api.attachScript(url+'&rnd='+rnd);\n        }\n      }\n    };\n  }\n\n} else { // if VK.xdConnectionCallbacks\n  setTimeout(function() {\n    var callback;\n    while (callback = VK.xdConnectionCallbacks.pop()) {\n      callback();\n    }\n  }, 0);\n  if (VK.Widgets && !VK.Widgets._constructor) {\n    VK.Widgets = false;\n  }\n}\n\nif (!VK.UI) {\n  VK.UI = {\n    active: null,\n    _buttons: [],\n    popup: function(options) {\n      var\n          screenX = typeof window.screenX != 'undefined' ? window.screenX : window.screenLeft,\n          screenY = typeof window.screenY != 'undefined' ? window.screenY : window.screenTop,\n          outerWidth = typeof window.outerWidth != 'undefined' ? window.outerWidth : window.document.body.clientWidth,\n          outerHeight = typeof window.outerHeight != 'undefined' ? window.outerHeight : (window.document.body.clientHeight - 22),\n          width = options.width,\n          height = options.height,\n          left = parseInt(screenX + ((outerWidth - width) / 2), 10),\n          top = parseInt(screenY + ((outerHeight - height) / 2.5), 10),\n          features = (\n              'width=' + width +\n              ',height=' + height +\n              ',left=' + left +\n              ',top=' + top\n          );\n      this.active = window.open(options.url, 'vk_openapi', features);\n    },\n    button: function(el, handler) {\n      var html = '';\n\n      if (typeof el == 'string') {\n        el = window.document.getElementById(el);\n      }\n\n\n      this._buttons.push(el);\n      index = this._buttons.length - 1;\n\n      html = (\n          '<table cellspacing=\"0\" cellpadding=\"0\" id=\"openapi_UI_' + index + '\" onmouseover=\"VK.UI._change(1, ' + index + ');\" onmouseout=\"VK.UI._change(0, ' + index + ');\" onmousedown=\"VK.UI._change(2, ' + index + ');\" onmouseup=\"VK.UI._change(1, ' + index + ');\" style=\"cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;\"><tr style=\"vertical-align: middle\">' +\n          '<td><div style=\"border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;\"><div style=\"border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;\">&#1042;&#1086;&#1081;&#1090;&#1080;</div></div></td>' +\n          '<td><div style=\"background: url(' + VK._protocol + '//vk.com/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px\"></div></td>' +\n          '<td><div style=\"border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;\"><div style=\"border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;\">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;</div></div></td>' +\n          '</tr></table>'\n      );\n      el.innerHTML = html;\n      el.style.width = el.childNodes[0].offsetWidth + 'px';\n    },\n    _change: function(state, index) {\n      var row = window.document.getElementById('openapi_UI_' + index).rows[0];\n      var elems = [row.cells[0].firstChild.firstChild, row.cells[2].firstChild.firstChild];\n      for (var i = 0; i < 2; ++i) {\n        var elem = elems[i];\n        if (state === 0) {\n          elem.style.backgroundColor = '#6D8DB1';\n          elem.style.borderTopColor = '#7E9CBC';\n          elem.style.borderLeftColor = elem.style.borderRightColor = elem.style.borderBottomColor = '#5C82AB';\n        } else if (state == 1) {\n          elem.style.backgroundColor = '#7693B6';\n          elem.style.borderTopColor = '#88A4C4';\n          elem.style.borderLeftColor = elem.style.borderRightColor = elem.style.borderBottomColor = '#6088B4';\n        } else if (state == 2) {\n          elem.style.backgroundColor = '#6688AD';\n          elem.style.borderBottomColor = '#7495B8';\n          elem.style.borderLeftColor = elem.style.borderRightColor = elem.style.borderTopColor = '#51779F';\n        }\n      }\n      if (state === 0 || state == 2) {\n        row.cells[2].firstChild.style.backgroundPosition = '0px -42px';\n      } else if (state == 1) {\n        row.cells[2].firstChild.style.backgroundPosition = '0px -63px';\n      }\n    }\n  };\n}\n\nif (!VK.XDM) {\n  VK.XDM = {\n    remote: null,\n    init: function() {\n      if (this.remote) return false;\n      var url = VK._domain.api + VK._path.proxy;\n      this.remote = new fastXDM.Server({\n        onInit: function() {\n          VK.xdReady = true;\n          VK.Observer.publish('xdm.init');\n        }\n      });\n\n      this.remote.append(window.document.getElementById(VK._rootId), {\n        src: url\n      });\n    },\n    xdHandler: function(code) {\n      try {\n        eval('VK.' + code);\n      } catch(e) {}\n    }\n  };\n}\n\nif (!VK.Observer) {\n  VK.Observer = {\n    _subscribers: function() {\n      if (!this._subscribersMap) {\n        this._subscribersMap = {};\n      }\n      return this._subscribersMap;\n    },\n    publish: function(eventName) {\n      var\n          args = Array.prototype.slice.call(arguments),\n          eventName = args.shift(),\n          subscribers = this._subscribers()[eventName],\n          i, j;\n\n      if (!subscribers) return;\n\n      for (i = 0, j = subscribers.length; i < j; i++) {\n        if (subscribers[i] != null) {\n          subscribers[i].apply(this, args);\n        }\n      }\n    },\n    subscribe: function(eventName, handler) {\n      var\n          subscribers = this._subscribers();\n\n      if (typeof handler != 'function') return false;\n\n      if (!subscribers[eventName]) {\n        subscribers[eventName] = [handler];\n      } else {\n        subscribers[eventName].push(handler);\n      }\n    },\n    unsubscribe: function(eventName, handler) {\n      var\n          subscribers = this._subscribers()[eventName],\n          i, j;\n\n      if (!subscribers) return false;\n      if (typeof handler == 'function') {\n        for (i = 0, j = subscribers.length; i < j; i++) {\n          if (subscribers[i] == handler) {\n            subscribers[i] = null;\n          }\n        }\n      } else {\n        delete this._subscribers()[eventName];\n      }\n    }\n  };\n}\n\nif (!VK.Widgets) {\n  VK.Widgets = {};\n\n  VK.Widgets.count = 0;\n  VK.Widgets.RPC = {};\n\n  VK.Widgets.loading = function(obj, enabled) {\n    obj.style.background = enabled ? 'url(\"' + VK._protocol + '//vk.com/images/upload.gif\") center center no-repeat transparent' : 'none';\n  };\n\n  VK.Widgets.Comments = function(objId, options, page) {\n    var pData = VK.Util.getPageData();\n    if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n    options = options || {};\n    var params = {\n      limit: options.limit || 10,\n      height: options.height || 0,\n      mini: options.mini === undefined ? 'auto' : options.mini,\n      norealtime: options.norealtime ? 1 : 0\n    }, mouseup = function() {\n      rpc.callMethod('mouseUp');\n      return false;\n    }, move = function(event) {\n      rpc.callMethod('mouseMove', {screenY: event.screenY});\n    }, iframe, rpc;\n\n    if (options.browse) { // browse all comments\n      params.browse = 1;\n      params.replies = options.replies || 0;\n    } else { // page\n      var url = options.pageUrl || pData.url;\n      if (url.substr(0, 1) == '/') {\n        url = (location.protocol + '//' + location.host) + url;\n      }\n      VK.extend(params, {\n        page: page || 0,\n        status_publish: options.autoPublish === undefined ? 1 : options.autoPublish,\n        attach: options.attach === undefined ? '*' : (options.attach ? options.attach : ''),\n        url: url,\n        title: options.pageTitle || pData.title,\n        description: options.pageDescription || pData.description,\n        image: options.pageImage || pData.image\n      });\n    }\n    if (options.onChange) { // DEPRECATED\n      VK.Observer.subscribe('widgets.comments.new_comment', options.onChange);\n      VK.Observer.subscribe('widgets.comments.delete_comment', options.onChange);\n    }\n\n    return VK.Widgets._constructor('widget_comments.php', objId, options, params, {\n      showBox: function(url, props) {\n        var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com') + '/' + url, [], {\n          proxy: function() {\n            rpc.callMethod.apply(rpc, arguments);\n          }\n        });\n        box.show();\n      },\n      startDrag: function() {\n        cursorBack = window.document.body.style.cursor;\n        window.document.body.style.cursor = 'pointer';\n        VK.Util.addEvent('mousemove', move);\n        VK.Util.addEvent('mouseup', mouseup);\n      },\n      stopDrag: function() {\n        window.document.body.style.cursor = cursorBack;\n        VK.Util.removeEvent('mousemove', move);\n        VK.Util.removeEvent('mouseup', mouseup);\n      }\n    }, {\n      startHeight: 133,\n      minWidth: 300,\n      width: '100%'\n    }, function(o, i, r) {iframe = i; rpc = r;});\n  };\n\n  VK.Widgets.CommentsBrowse = function(objId, options) {\n    options = options || {};\n    options.browse = 1;\n    return VK.Widgets.Comments(objId, options);\n  };\n\n  VK.Widgets.Recommended = function(objId, options) {\n    var pData = VK.Util.getPageData();\n    if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n    options = options || {};\n    var params = {\n      limit: options.limit || 5,\n      max: options.max || 0,\n      sort: options.sort || 'friend_likes',\n      verb: options.verb || 0,\n      period: options.period || 'week',\n      target: options.target || 'parent'\n    };\n    return VK.Widgets._constructor('widget_recommended.php', objId, options, params, {}, {\n      startHeight: (90 + params.limit * 30),\n      minWidth: 150,\n      width: '100%'\n    });\n  };\n\n  VK.Widgets.Post = function(objId, ownerId, postId, hash, options) {\n    options = options || {};\n    var params = {\n      owner_id: ownerId,\n      post_id: postId,\n      hash: hash || '',\n      width: options.width || 500\n    }, iframe, rpc, cursorBack;\n    if (options.preview) {\n      params.preview = 1;\n      delete options['preview'];\n    }\n    return VK.Widgets._constructor('widget_post.php', objId, options, params, {\n      showBox: function(url, props) {\n        var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com') + '/' + url, [], {\n          proxy: function() {\n            rpc.callMethod.apply(rpc, arguments);\n          }\n        });\n        box.show();\n      },\n      startDrag: function() {\n        cursorBack = window.document.body.style.cursor;\n        window.document.body.style.cursor = 'pointer';\n      },\n      stopDrag: function() {\n        window.document.body.style.cursor = cursorBack;\n      }\n    }, {\n      startHeight: 90,\n      minWidth: 250,\n      width: '100%'\n    }, function(o, i, r) {iframe = i; rpc = r;});\n  };\n\n  VK.Widgets.Like = function(objId, options, page) {\n    var pData = VK.Util.getPageData();\n    if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n    options = VK.extend(options || {}, {allowTransparency: true});\n    if (options.type == 'button' || options.type == 'vertical' || options.type == 'mini') delete options.width;\n    var\n        type = (options.type == 'full' || options.type == 'button' || options.type == 'vertical' || options.type == 'mini') ? options.type : 'full',\n        width = type == 'full' ? Math.max(200, options.width || 350) : (type == 'button' ? 180 : (type == 'mini' ? 100 : 41)),\n        btnHeight = parseInt(options.height, 10) || 22,\n        height = type == 'vertical' ? (2 * btnHeight + 7) : (type == 'full' ? btnHeight + 1 : btnHeight),\n        params = {\n          page: page || 0,\n          url: options.pageUrl || pData.url,\n          type: type,\n          verb: options.verb == 1 ? 1 : 0,\n          color: options.color || '',\n          title: options.pageTitle || pData.title,\n          description: options.pageDescription || pData.description,\n          image: options.pageImage || pData.image,\n          text: (options.text || '').substr(0, 140),\n          h: btnHeight\n        },\n        ttHere = options.ttHere || false,\n        isOver = false,\n        obj, buttonIfr, buttonRpc, tooltipIfr, tooltipRpc, checkTO, statsBox;\n\n    function showTooltip(force) {\n      if ((!isOver && !force) || !tooltipRpc) return;\n      if (!tooltipIfr || !tooltipRpc || tooltipIfr.style.display != 'none' && tooltipIfr.getAttribute('vkhidden') != 'yes') return;\n      var scrollTop = options.getScrollTop ? options.getScrollTop() : (window.document.body.scrollTop || window.document.documentElement.scrollTop || 0);\n      var objPos = VK.Util.getXY(obj, options.fixed);\n      var startY = ttHere ? 0 : objPos[1];\n      if (scrollTop > objPos[1] - 120 && options.tooltipPos != 'top' || type == 'vertical' || options.tooltipPos == 'bottom') {\n        tooltipIfr.style.top = (startY + height + 2) + 'px';\n        tooltipRpc.callMethod('show', false);\n      } else {\n        tooltipIfr.style.top = (startY - 125) + 'px';\n        tooltipRpc.callMethod('show', true);\n      }\n      VK.Util.ss(tooltipIfr, {left: ((ttHere ? 0 : objPos[0]) - (type == 'vertical' || type == 'mini' ? 36 : 2)) + 'px', display: 'block', opacity: 1, filter: 'none'});\n      tooltipIfr.setAttribute('vkhidden', 'no');\n      isOver = true;\n    }\n\n    function hideTooltip(force) {\n      if ((isOver && !force) || !tooltipRpc) return;\n      tooltipRpc.callMethod('hide');\n      buttonRpc.callMethod('hide');\n      setTimeout(function() {\n        tooltipIfr.style.display = 'none'\n      }, 400);\n    }\n\n    function handleStatsBox(act) {\n      hideTooltip(true);\n      statsBox = VK.Util.Box(buttonIfr.src + '&act=a_stats_box&widget_width=620');\n      statsBox.show();\n    }\n\n    return VK.Widgets._constructor('widget_like.php', objId, options, params, {\n      initTooltip: function(counter) {\n        tooltipRpc = new fastXDM.Server({\n          onInit: counter ? function() {showTooltip(true)} : function() {},\n          proxy: function() {\n            buttonRpc.callMethod.apply(buttonRpc, arguments);\n          },\n          showBox: function(url, props) {\n            var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [props.width, props.height], {\n              proxy: function() {\n                tooltipRpc.callMethod.apply(tooltipRpc, arguments);\n              }\n            });\n            box.show();\n          },\n          statsBox: handleStatsBox\n        }, false, {safe: true});\n        tooltipIfr = tooltipRpc.append(ttHere ? obj : window.document.body, {\n          src: buttonIfr.src + '&act=a_like_tooltip',\n          scrolling: 'no',\n          allowTransparency: true,\n          id: buttonIfr.id + '_tt',\n          style: {position: 'absolute', padding: 0, display: 'block', opacity: 0.01, filter: 'alpha(opacity=1)', border: '0', width: '238px', height: '124px', zIndex: 5000, overflow: 'hidden'}\n        });\n        tooltipIfr.setAttribute('vkhidden', 'yes');\n\n        obj.onmouseover = tooltipIfr.onmouseover = function() {\n          clearTimeout(checkTO);\n          isOver = true;\n        };\n        obj.onmouseout = tooltipIfr.onmouseout = function() {\n          clearTimeout(checkTO);\n          isOver = false;\n          checkTO = setTimeout(function() {hideTooltip(); }, 200);\n        };\n      },\n      statsBox: handleStatsBox,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      showBox: function(url, props) {\n        var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [], {\n          proxy: function() {\n            buttonRpc.callMethod.apply(buttonRpc, arguments);\n          }\n        });\n        box.show();\n      },\n      proxy: function() {if (tooltipRpc) tooltipRpc.callMethod.apply(tooltipRpc, arguments);}\n    }, {\n      startHeight: height,\n      minWidth: width\n    }, function(o, i, r) {\n      buttonRpc = r;\n      VK.Util.ss(obj = o, {height: height + 'px', width: width + 'px', position: 'relative', clear: 'both'});\n      VK.Util.ss(buttonIfr = i, {height: height + 'px', width: width + 'px', overflow: 'hidden', zIndex: 150});\n    });\n  };\n\n  VK.Widgets.Poll = function(objId, options, pollId) {\n    var pData = VK.Util.getPageData();\n    // if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n    if (!pollId) throw Error('No poll id passed');\n    options = options || {};\n    var params = {\n      poll_id: pollId,\n      url: options.pageUrl || pData.url || location.href,\n      title: options.pageTitle || pData.title,\n      description: options.pageDescription || pData.description\n    };\n    return VK.Widgets._constructor('widget_poll.php', objId, options, params, {}, {\n      startHeight: 133,\n      minWidth: 300,\n      width: '100%'\n    });\n  };\n\n  VK.Widgets.PagePoll = function(objId, options, page) {\n    var pData = VK.Util.getPageData();\n    // if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n    options = options || {};\n    var params = {\n      page: page || 0,\n      norealtime: options.norealtime ? 1 : 0,\n      poll_id: options.pollId || '',\n      url: options.pageUrl || pData.url || location.href,\n      title: options.pageTitle || pData.title,\n      description: options.pageDescription || pData.description\n    };\n    return VK.Widgets._constructor('al_widget_poll.php', objId, options, params, {}, {\n      startHeight: 133,\n      minWidth: 300,\n      width: '100%'\n    });\n  };\n\n  VK.Widgets.Community = VK.Widgets.Group = function(objId, options, gid) {\n    gid = parseInt(gid, 10);\n    var RPC;\n    if (!gid) {\n      throw Error('No group_id passed');\n    }\n    options.mode = parseInt(options.mode, 10).toString();\n    var params = {\n      gid: gid,\n      mode: (options.mode) ? options.mode : '0'\n    };\n    if (!options.width) options.width = 200;\n    if (options.wall) params.wall = options.wall;\n    params.color1 = options.color1 || '';\n    params.color2 = options.color2 || '';\n    params.color3 = options.color3 || '';\n    params.class_name = options.class_name || '';\n    if (options.no_head) params.no_head = 1;\n    if (!options.height) options.height = 290;\n    if (options.wide) {\n      params.wide = 1;\n      if (options.width < 300) {\n        options.width = 300;\n      }\n    }\n\n    var cursorBack;\n\n    function mouseup() {\n      RPC.callMethod('mouseUp');\n      return false;\n    }\n\n    function move(event) {\n      RPC.callMethod('mouseMove', {screenY: event.screenY});\n      return false;\n    }\n\n    return VK.Widgets._constructor('widget_community.php', objId, options, params, {\n      showBox: function(url, props) {\n        var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [], {\n          proxy: function() {\n            rpc.callMethod.apply(rpc, arguments);\n          }\n        });\n        box.show();\n      },\n      startDrag: function() {\n        cursorBack = window.document.body.style.cursor;\n        window.document.body.style.cursor = 'pointer';\n        VK.Util.addEvent('mousemove', move);\n        VK.Util.addEvent('mouseup', mouseup);\n      },\n      stopDrag: function() {\n        window.document.body.style.cursor = cursorBack;\n        VK.Util.removeEvent('mousemove', move);\n        VK.Util.removeEvent('mouseup', mouseup);\n      },\n      auth: function() {\n        VK.Auth.login(null, 1);\n      }\n    }, {\n      minWidth: 120,\n      width: '200',\n      height: '290',\n      startHeight: 200\n    }, function(o, i, r) {\n      RPC = r;\n    });\n  };\n\n  VK.Widgets.Auth = function(objId, options) {\n    var pData = VK.Util.getPageData();\n    if (!VK._apiId) throw Error('VK not initialized. Please use VK.init');\n    if (!options.width) {\n      options.width = 200;\n    }\n    if (options.type) {\n      type = 1;\n    } else {\n      type = 0;\n    }\n    return VK.Widgets._constructor('widget_auth.php', objId, options, {}, {makeAuth: function(data) {\n      if (data.session) {\n        VK.Auth._loadState = 'loaded';\n        VK.Auth.setSession(data.session, 'connected');\n        VK.Observer.publish('auth.loginStatus', {session: data.session, status: 'connected'});\n        VK.Observer.unsubscribe('auth.loginStatus');\n      }\n      if (options.onAuth) {\n        options.onAuth(data);\n      } else {\n        if (options.authUrl) {\n          var href = options.authUrl;\n        } else {\n          var href = window.location.href;\n        }\n        if (href.indexOf('?') == -1) {\n          href+='?';\n        } else {\n          href+='&';\n        }\n        var vars = [];\n\n        for (var i in data) {\n          if (i != 'session') vars.push(i+'='+decodeURIComponent(data[i]).replace(/&/g, '%26').replace(/\\?/, '%3F'));\n        }\n        window.location.href = href + vars.join('&');\n      }\n    }}, {startHeight: 80});\n  };\n\n  VK.Widgets.Subscribe = function(objId, options, oid) {\n    oid = parseInt(oid, 10);\n    var RPC;\n    if (!oid) {\n      throw Error('No owner_id passed');\n    }\n    var params = {\n      oid: oid\n    };\n    if (options.mode) {\n      params.mode = options.mode;\n    }\n    if (options.soft) {\n      params.soft = options.soft;\n    }\n\n    return VK.Widgets._constructor('widget_subscribe.php', objId, options, params, {\n      showBox: function(url, props) {\n        var box = VK.Util.Box((options.base_domain || VK._protocol + '//vk.com/') + url, [], {\n          proxy: function() {\n            rpc.callMethod.apply(rpc, arguments);\n          }\n        });\n        box.show();\n      },\n      auth: function() {\n        VK.Auth.login(null, 1);\n      }\n    }, {\n      minWidth: 220,\n      startHeight: 22,\n      height: options.height || 22\n    }, function(o, i, r) {\n      RPC = r;\n    });\n  };\n\n  VK.Widgets.ContactUs = function(objId, options, oid) {\n    oid = parseInt(oid, 10);\n\n    if (!options) options = {};\n    if (!oid) throw Error('No group or user id passed');\n\n    var RPC,\n      params = {\n        oid: oid,\n        height: ({22: 22, 24: 24, 30: 30})[parseInt(options.height, 10) || 24],\n        text: (options.text || '').substr(0, 140)\n      };\n\n    return VK.Widgets._constructor('widget_contactus.php', objId, options, params, {}, {\n      startHeight: params.height,\n      height: params.height\n    }, function(o, i, r) {\n      RPC = r;\n    });\n  };\n\n  VK.Widgets.Ads = function(objId, options, paramsExtra) {\n    options = options || {};\n    paramsExtra = paramsExtra || {};\n    var params = {};\n    var defaults = {};\n    var funcs = {};\n    var obj = window.document.getElementById(objId);\n    var iframe;\n    var rpc;\n\n    var adsParams = {};\n    var adsParamsLocal = {};\n    var adsParamsDefault = {};\n    for (var key in paramsExtra) {\n      var keyFix = (inArray(key, ['hash']) ? key : 'ads_' + key);\n      adsParams[keyFix] = paramsExtra[key];\n    }\n\n    if (obj && obj.getBoundingClientRect) {\n      obj.style.width  = '100%';\n      obj.style.height = '100%';\n      var rect = obj.getBoundingClientRect();\n      obj.style.width  = '';\n      obj.style.height = '';\n      adsParams.ads_ad_unit_width_auto  = Math.floor(rect.right - rect.left);\n      adsParams.ads_ad_unit_height_auto = Math.floor(rect.bottom - rect.top);\n    }\n\n    adsParamsDefault.ads_ad_unit_width  = 100;\n    adsParamsDefault.ads_ad_unit_height = 100;\n\n    adsParamsLocal.ads_ad_unit_width  = (parseInt(adsParams.ads_ad_unit_width)  || adsParams.ads_ad_unit_width === 'auto'  && adsParams.ads_ad_unit_width_auto  || adsParamsDefault.ads_ad_unit_width);\n    adsParamsLocal.ads_ad_unit_height = (parseInt(adsParams.ads_ad_unit_height) || adsParams.ads_ad_unit_height === 'auto' && adsParams.ads_ad_unit_height_auto || adsParamsDefault.ads_ad_unit_height);\n    if (adsParams.ads_handler) {\n      adsParamsLocal.ads_handler = adsParams.ads_handler;\n    }\n    if (adsParams.ads_handler_empty_html) {\n      adsParamsLocal.ads_handler_empty_html = adsParams.ads_handler_empty_html;\n    }\n\n    delete adsParams.ads_handler;\n    delete adsParams.ads_handler_empty_html;\n\n    params.act = 'ads_web';\n    params.url = location.href;\n    VK.extend(params, adsParams);\n\n    options.noDefaultParams   = true;\n    options.width             = adsParamsLocal.ads_ad_unit_width;\n    options.allowTransparency = true;\n    defaults.startHeight = adsParamsLocal.ads_ad_unit_height;\n    defaults.minWidth    = adsParamsLocal.ads_ad_unit_width;\n    funcs.adsOnInitLoader = adsOnInitLoader;\n    funcs.adsOnInit       = adsOnInit;\n\n    return VK.Widgets._constructor('ads_rotate.php', objId, options, params, funcs, defaults, onDone);\n\n    function adsOnInitLoader(adsScriptVersion) {\n      VK.Widgets.loading(obj, true);\n      adsAttachScript(adsScriptVersion);\n    }\n    function adsOnInit(errorCode, adsParamsExport) {\n      VK.Widgets.loading(obj, false);\n      adsProcessParams(adsParamsExport);\n      if (options.onAdsReady) options.onAdsReady.apply(options.onAdsReady, Array.prototype.slice.call(arguments));\n      adsProcessHandler(errorCode);\n    }\n    function adsAttachScript(adsScriptVersion) {\n      if (!('vk__adsLight' in window)) {\n        window.vk__adsLight = false;\n        adsScriptVersion = parseInt(adsScriptVersion);\n        var attachScriptFunc = (VK.Api && VK.Api.attachScript || VK.addScript);\n        var base_domain = (options.base_domain || VK._protocol + '//vk.com');\n        attachScriptFunc(base_domain + '/js/al/aes_light.js?' + adsScriptVersion);\n      } else if (window.vk__adsLight && vk__adsLight.userHandlers && vk__adsLight.userHandlers.onInit) {\n        vk__adsLight.userHandlers.onInit(false); // false - do not publish initial onInit\n      }\n    }\n    function adsProcessParams(adsParamsExport) {\n      if (!adsParamsExport) {\n        return;\n      }\n      for (var paramName in adsParamsExport) {\n        var paramValue = adsParamsExport[paramName];\n        if (paramName === 'ads_ad_unit_width' || paramName === 'ads_ad_unit_height') {\n          if (!(paramName in adsParams)) {\n            adsParamsLocal[paramName] = (parseInt(paramValue) || paramValue === 'auto' && adsParams[paramName + '_auto'] || adsParamsDefault[paramName]);\n          }\n        } else {\n          if (!(paramName in adsParamsLocal)) {\n            adsParamsLocal[paramName] = paramValue;\n          }\n        }\n      }\n    }\n    function adsProcessHandler(errorCode) {\n      var handlerResult = adsEvalHandler(adsParamsLocal.ads_handler, errorCode);\n      if (errorCode <= 0 && handlerResult !== true) {\n        try { console.log('VK: ad_unit_id = ' + adsParams.ads_ad_unit_id, ', errorCode = ', errorCode); } catch (e) {}\n        adsInsertHtmlHandler(adsParamsLocal.ads_handler_empty_html, adsParamsLocal.ads_ad_unit_width, adsParamsLocal.ads_ad_unit_height);\n      }\n    }\n    function adsEvalHandler(handler) {\n      var result = false;\n      try {\n        if (!handler) {\n          return false;\n        }\n        var func = false;\n        if (isFunction(handler)) {\n          func = handler;\n        } else if (isString(handler)) {\n          var handlerFuncs = handler.split('.');\n          func = window;\n          for (var i = 0, len = handlerFuncs.length; i < len; i++) {\n            func = func[handlerFuncs[i]];\n            if (!func) {\n              break;\n            }\n          }\n          if (!func) {\n            if (handler.substr(0, 8) === 'function') {\n              handler = 'return ' + handler + ';';\n            }\n            var handlerResult = (new Function(handler))();\n            if (isFunction(handlerResult)) {\n              func = handlerResult;\n            } else {\n              result = handlerResult;\n            }\n          }\n        }\n        if (func) {\n          var args = Array.prototype.slice.call(arguments, 1);\n          result = func.apply(func, args);\n        }\n      } catch (e) {\n        try {\n          console.error(e);\n        } catch (e2) {}\n      }\n\n      return result;\n\n      function isFunction(obj) {\n        return Object.prototype.toString.call(obj) === '[object Function]';\n      }\n      function isString(obj) {\n        return Object.prototype.toString.call(obj) === '[object String]';\n      }\n    }\n    function adsInsertHtmlHandler(handlerHtml, width, height) {\n      if (!handlerHtml) {\n        return;\n      }\n      if (!obj) {\n        return;\n      }\n\n      width  = (width  ? width  + 'px' : '');\n      height = (height ? height + 'px' : '');\n\n      var iframeHandlerHtml = '<html><head></head><body style=\"padding: 0; margin: 0;\"><div>' + handlerHtml + '</div></body></html>';\n\n      var iframeHandler = window.document.createElement('iframe');\n      iframeHandler.onload            = fixIframeHeight;\n      iframeHandler.id                = (iframe ? iframe.id : ('vkwidget-' + Math.round(Math.random() * 1000000))) + '_ads_html_handler';\n      iframeHandler.src               = 'about:blank';\n      iframeHandler.width             = '100%';\n      iframeHandler.height            = '100%';\n      iframeHandler.scrolling         = 'no';\n      iframeHandler.frameBorder       = '0';\n      iframeHandler.allowTransparency = true;\n      iframeHandler.style.overflow    = 'hidden';\n      iframeHandler.style.width       = width;\n      iframeHandler.style.height      = height;\n\n      obj.style.width                 = width;\n      obj.style.height                = height;\n\n      obj.appendChild(iframeHandler);\n\n      iframeHandler.contentWindow.vk_ads_html_handler = iframeHandlerHtml;\n      iframeHandler.src = 'javascript:window[\"vk_ads_html_handler\"]';\n\n      function fixIframeHeight() {\n        if (height) {\n          return;\n        }\n        try {\n          var rect = iframeHandler.contentWindow.document.body.firstChild.getBoundingClientRect();\n          var heightFix = Math.ceil(rect.bottom - rect.top);\n          if (heightFix) {\n            iframeHandler.style.height = heightFix;\n            obj.style.height           = heightFix;\n          }\n        } catch (e) {}\n      }\n    }\n    function indexOf(arr, value, from) {\n      for (var i = from || 0, l = (arr || []).length; i < l; i++) {\n        if (arr[i] == value) return i;\n      }\n      return -1;\n    }\n    function inArray(value, arr) {\n      return indexOf(arr, value) != -1;\n    }\n    function onDone(o, i, r) {\n      obj = o;\n      iframe = i;\n      rpc = r;\n    }\n  };\n\n  VK.Widgets._constructor = function(widgetUrl, objId, options, params, funcs, defaults, onDone, widgetId, iter) {\n    var obj = window.document.getElementById(objId);\n    widgetId = widgetId || (++VK.Widgets.count);\n\n    if (!obj) {\n      iter = iter || 0;\n      if (iter > 10) {\n        throw Error('VK.Widgets: object #' + objId + ' not found.');\n      }\n      setTimeout(function() {\n        VK.Widgets._constructor(widgetUrl, objId, options, params, funcs, defaults, onDone, widgetId, iter + 1);\n      }, 500);\n      return widgetId;\n    }\n\n    var ifr, base_domain, width, url, urlQueryString, encodedParam, rpc, iframe, i;\n    options = options || {};\n    defaults = defaults || {};\n    funcs = funcs || {};\n\n    base_domain = options.base_domain || VK._protocol + '//vk.com';\n    width = (options.width == 'auto') ? obj.clientWidth || '100%' : parseInt(options.width, 10);\n\n    if (options.height) {\n      params.height = options.height;\n      obj.style.height = options.height + 'px';\n    } else {\n      obj.style.height = (defaults.startHeight || 200) + 'px';\n    }\n\n    width = width ? (Math.max(defaults.minWidth || 200, Math.min(10000, width)) + 'px') : '100%';\n\n    if (!params.url) {\n      params.url = options.pageUrl || location.href.replace(/#.*$/, '');\n    }\n    url = base_domain + '/' + widgetUrl;\n    urlQueryString = '';\n    if (!options.noDefaultParams) {\n      urlQueryString += '&app=' + (VK._apiId || '0') + '&width=' + width\n    }\n    urlQueryString += '&_ver=' + VK.version\n    if (VK._iframeAppWidget) {\n      params.iframe_app = 1;\n    }\n    var pData = VK.Util.getPageData();\n    params.url      = params.url     || pData.url || \"\";\n    params.referrer = params.referrer || window.document.referrer || \"\";\n    params.title    = params.title   || pData.title  || window.document.title || \"\";\n    for (i in params) {\n      if (i == 'title' && params[i].length > 80) params[i] = params[i].substr(0, 80)+'...';\n      if (i == 'description' && params[i].length > 160) params[i] = params[i].substr(0, 160)+'...';\n      if (typeof(params[i]) == 'number') {\n        encodedParam = params[i];\n      } else {\n        try {\n          encodedParam = encodeURIComponent(params[i]);\n        } catch (e) {\n          encodedParam = '';\n        }\n      }\n      urlQueryString += '&' + i + '=' + encodedParam;\n    }\n    urlQueryString += '&' + (+new Date()).toString(16);\n    url += '?' + urlQueryString.substr(1);\n\n    obj.style.width = width;\n    VK.Widgets.loading(obj, true);\n\n    funcs.publish = function() {\n      var args = Array.prototype.slice.call(arguments);\n      args.push(widgetId);\n      VK.Observer.publish.apply(VK.Observer, args);\n    };\n    funcs.onInit = function() {\n      VK.Widgets.loading(obj, false);\n      if (funcs.onReady) funcs.onReady();\n      if (options.onReady) options.onReady();\n    }\n    funcs.resize = function(e, cb) {\n      obj.style.height = e + 'px';\n      var el = window.document.getElementById('vkwidget' + widgetId);\n      if (el) {\n        el.style.height = e + 'px';\n      }\n    }\n    funcs.resizeWidget = function(newWidth, newHeight) {\n      newWidth  = parseInt(newWidth);\n      newHeight = parseInt(newHeight);\n      var widgetElem = window.document.getElementById('vkwidget' + widgetId);\n      if (isFinite(newWidth)) {\n        obj.style.width = newWidth + 'px';\n        if (widgetElem) {\n          widgetElem.style.width = newWidth + 'px';\n        }\n      }\n      if (isFinite(newHeight)) {\n        obj.style.height = newHeight + 'px';\n        if (widgetElem) {\n          widgetElem.style.height = newHeight + 'px';\n        }\n      }\n      if (options.onResizeWidget) options.onResizeWidget();\n    }\n    funcs.updateVersion = function(ver) {\n      if (ver > 1) {\n        VK.Api.attachScript('//vk.com/js/api/openapi_update.js?'+parseInt(ver));\n      }\n    }\n    rpc = VK.Widgets.RPC[widgetId] = new fastXDM.Server(funcs, function(origin) {\n      if (!origin) return true;\n      origin = origin.toLowerCase();\n      return (origin.match(/(\\.|\\/)vk\\.com($|\\/|\\?)/));\n    }, {safe: true});\n    iframe = VK.Widgets.RPC[widgetId].append(obj, {\n      src: url,\n      width: (width.indexOf('%') != -1) ? width : (parseInt(width) || width),\n      height: defaults.startHeight || '100%',\n      scrolling: 'no',\n      id: 'vkwidget' + widgetId,\n      allowTransparency: options.allowTransparency || false,\n      style: {\n        overflow: 'hidden'\n      }\n    });\n    onDone && setTimeout(function() {onDone(obj, iframe || obj.firstChild, rpc);}, 10);\n    return widgetId;\n  };\n}\n\nif (!VK.Util) {\n  VK.Util = {\n    getPageData: function() {\n      if (!VK._pData) {\n        var metas = window.document.getElementsByTagName('meta'), pData = {}, keys = ['description', 'title', 'url', 'image', 'app_id'], metaName;\n        for (var i in metas) {\n          if (!metas[i].getAttribute) continue;\n          if (metas[i].getAttribute && ((metaName = metas[i].getAttribute('name')) || (metaName = metas[i].getAttribute('property')))) {\n            for (var j in keys) {\n              if (metaName == keys[j] || metaName == 'og:'+keys[j] || metaName == 'vk:'+keys[j]) {\n                pData[keys[j]] = metas[i].content;\n              }\n            }\n          }\n        }\n        if (pData.app_id && !VK._apiId) {\n          VK._apiId = pData.app_id;\n        }\n        pData.title = pData.title || window.document.title || '';\n        pData.description = pData.description || '';\n        pData.image = pData.image || '';\n        if (!pData.url && VK._iframeAppWidget && VK._apiId) {\n          pData.url = '/app' + VK._apiId;\n          if (VK._browserHash) {\n            pData.url += VK._browserHash\n          }\n        }\n        var loc = location.href.replace(/#.*$/, '');\n        if (!pData.url || !pData.url.indexOf(loc)) {\n          pData.url = loc;\n        }\n        VK._pData = pData;\n      }\n      return VK._pData;\n    },\n    getStyle: function(elem, name) {\n      var ret, defaultView = window.document.defaultView || window;\n      if (defaultView.getComputedStyle) {\n        name = name.replace(/([A-Z])/g, '-$1').toLowerCase();\n        var computedStyle = defaultView.getComputedStyle(elem, null);\n        if (computedStyle) {\n          ret = computedStyle.getPropertyValue(name);\n        }\n      } else if (elem.currentStyle) {\n        var camelCase = name.replace(/\\-(\\w)/g, function(all, letter){\n          return letter.toUpperCase();\n        });\n        ret = elem.currentStyle[name] || elem.currentStyle[camelCase];\n      }\n\n      return ret;\n    },\n\n    getXY: function(obj, fixed) {\n      if (!obj || obj === undefined) return;\n\n      var left = 0, top = 0;\n      if (obj.getBoundingClientRect !== undefined) {\n        var rect = obj.getBoundingClientRect();\n        left = rect.left;\n        top = rect.top;\n        fixed = true;\n      } else if (obj.offsetParent) {\n        do {\n          left += obj.offsetLeft;\n          top += obj.offsetTop;\n          if (fixed) {\n            left -= obj.scrollLeft;\n            top -= obj.scrollTop;\n          }\n        } while (obj = obj.offsetParent);\n      }\n      if (fixed) {\n        top += window.pageYOffset || window.scrollNode && scrollNode.scrollTop || window.document.documentElement.scrollTop;\n        left += window.pageXOffset || window.scrollNode && scrollNode.scrollLeft || window.document.documentElement.scrollLeft;\n      }\n\n      return [left, top];\n    },\n\n    Box: function(src, sizes, fnc, options) {\n      fnc = fnc || {};\n      var overflowB = window.document.body.style.overflow;\n      var loader = window.document.createElement('DIV');\n      var rpc = new fastXDM.Server(VK.extend(fnc, {\n            onInit: function() {\n              iframe.style.background = 'transparent';\n              iframe.style.visibility = 'visible';\n              window.document.body.style.overflow = 'hidden';\n              window.document.body.removeChild(loader);\n            },\n            hide: function() {\n              iframe.style.display = 'none';\n            },\n            tempHide: function() {\n              iframe.style.left = '-10000px';\n              iframe.style.top = '-10000px';\n              iframe.style.width = '10px';\n              iframe.style.height = '10px';\n              window.document.body.style.overflow = overflowB;\n            },\n            destroy: function() {\n              try {\n                iframe.src = 'about: blank;';\n              } catch (e) {}\n              iframe.parentNode.removeChild(iframe);\n              window.document.body.style.overflow = overflowB;\n            },\n            resize: function(w, h) {\n            }\n          }, true), false, {safe: true}),\n          iframe = rpc.append(window.document.body, {\n            src: src.replace(/&amp;/g, '&'),\n            scrolling: 'no',\n            allowTransparency: true,\n            style: {position: 'fixed', left: 0, top: 0, zIndex: 1002, background: VK._protocol + '//vk.com/images/upload.gif center center no-repeat transparent', padding: '0', border: '0', width: '100%', height: '100%', overflow: 'hidden', visibility: 'hidden'}\n          });\n      loader.innerHTML = '<div style=\"position: fixed;left: 50%;top: 50%;margin: 0px auto 0px -60px;z-index: 1002;width: 100px;\"><div style=\"background: url(//vk.com/images/upload_inv_mono'+(window.devicePixelRatio >= 2 ? '_2x' : '')+'.gif) no-repeat 50% 50%;background-size: 64px 16px;height: 50px;position: absolute;width: 100%;z-index: 100;\"></div><div style=\"background-color: #000;opacity: 0.7;filter: alpha(opacity=70);height: 50px;-webkit-border-radius: 5px;-khtml-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);\"></div></div>';\n      window.document.body.insertBefore(loader, window.document.body.firstChild);\n      return {\n        show: function(scrollTop, height) {\n          iframe.style.display = 'block';\n          window.document.body.style.overflow = 'hidden';\n        },\n        hide: function() {\n          iframe.style.display = 'none';\n          window.document.body.style.overflow = overflowB;\n        },\n        iframe: iframe,\n        rpc: rpc\n      }\n    },\n\n    addEvent: function(type, func) {\n      if (window.document.addEventListener) {\n        window.document.addEventListener(type, func, false);\n      } else if (window.document.attachEvent) {\n        window.document.attachEvent('on'+type, func);\n      }\n    },\n\n    removeEvent: function(type, func) {\n      if (window.document.removeEventListener) {\n        window.document.removeEventListener(type, func, false);\n      } else if (window.document.detachEvent) {\n        window.document.detachEvent('on'+type, func);\n      }\n    },\n\n    ss: function(el, styles) {VK.extend(el.style, styles, true);}\n  };\n}\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n  module.exports = VK;\n}\nif (typeof window !== 'undefined') {\n  window.VK = VK;\n}\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}